{
    "openapi": "3.0.1",
    "x-stoplight": {
        "id": "5bf5a1n68g4tq"
    },
    "info": {
        "title": "mimoto",
        "description": "mimoto",
        "license": {
            "name": "Mosip",
            "url": "https://docs.mosip.io/platform/license"
        },
        "version": "1.0"
    },
    "servers": [
        {
            "url": "https://api.collab.mosip.net/v1/mimoto",
            "description": "For Swagger"
        }
    ],
    "paths": {
        "/req/otp": {
            "post": {
                "operationId": "otpRequest",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/AppOTPRequestDTO"
                            },
                            "examples": {
                                "example-1": {
                                    "value": {
                                        "individualId": "1289358704",
                                        "individualIdType": "UIN",
                                        "otpChannel": [
                                            "EMAIL",
                                            "PHONE"
                                        ],
                                        "transactionID": "1234567890"
                                    }
                                }
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "id": {
                                            "type": "string"
                                        },
                                        "version": {
                                            "type": "string"
                                        },
                                        "str": {
                                            "type": "string",
                                            "nullable": true
                                        },
                                        "responsetime": {
                                            "type": "string",
                                            "format": "date-time",
                                            "nullable": true
                                        },
                                        "metadata": {
                                            "type": "object",
                                            "nullable": true
                                        },
                                        "response": {
                                            "type": "object",
                                            "properties": {
                                                "maskedMobile": {
                                                    "type": "string"
                                                },
                                                "maskedEmail": {
                                                    "type": "string"
                                                }
                                            }
                                        },
                                        "errors": {
                                            "type": "array",
                                            "items": {
                                                "type": "object",
                                                "properties": {
                                                    "errorCode": {
                                                        "type": "string"
                                                    },
                                                    "errorMessage": {
                                                        "type": "string"
                                                    }
                                                }
                                            },
                                            "nullable": true
                                        }
                                    },
                                    "x-examples": {
                                        "Example 1": {
                                            "id": "mosip.identity.otp.internal",
                                            "version": "1.0",
                                            "str": null,
                                            "responsetime": null,
                                            "metadata": null,
                                            "response": {
                                                "maskedMobile": "XXXXXX6677",
                                                "maskedEmail": "XXuXXrXX5XX9@gmail.com"
                                            },
                                            "errors": null
                                        }
                                    }
                                },
                                "examples": {
                                    "example-1": {
                                        "value": {
                                            "id": "mosip.identity.otp.internal",
                                            "version": "1.0",
                                            "str": null,
                                            "responsetime": null,
                                            "metadata": null,
                                            "response": {
                                                "maskedMobile": "XXXXXX6677",
                                                "maskedEmail": "XXuXXrXX5XX9@gmail.com"
                                            },
                                            "errors": null
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "description": "Request new otp",
                "tags": [
                    "Credential Download - OTP Flow"
                ],
                "summary": "Generate Credential - Request Otp"
            }
        },
        "/verifiers": {
            "get": {
                "operationId": "getAllTrustedVerifiers",
                "tags": [
                    "Verifiers"
                ],
                "description": "This API retrieves all trusted verifiers for Inji Wallet.",
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "verifiers": {
                                            "type": "array",
                                            "items": {
                                                "type": "object",
                                                "properties": {
                                                    "client_id": {
                                                        "type": "string"
                                                    },
                                                    "redirect_uris": {
                                                        "type": "array",
                                                        "items": {
                                                            "type": "string"
                                                        }
                                                    },
                                                    "response_uris": {
                                                        "type": "array",
                                                        "items": {
                                                            "type": "string"
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                "examples": {
                                    "Success response": {
                                        "value": {
                                            "verifiers": [
                                                {
                                                    "client_id": "https://injiverify.collab.mosip.net",
                                                    "redirect_uris": [
                                                        "https://injiverify.collab.mosip.net/redirect"
                                                    ],
                                                    "response_uris": [
                                                        "https://injiverify.collab.mosip.net/redirect"
                                                    ]
                                                }
                                            ]
                                        }
                                    },
                                    "Failure response": {
                                        "value": {
                                            "id": null,
                                            "version": "v1",
                                            "responsetime": "2022-10-31T05:07:34.789Z",
                                            "metadata": null,
                                            "response": null,
                                            "errors": [
                                                {
                                                    "errorCode": "VERIFIER-API-26",
                                                    "errorMessage": "API not accessible failure"
                                                }
                                            ]
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/get-token/{issuer}": {
            "post": {
                "tags": [
                    "Credentials Download"
                ],
                "summary": "Retrieve accessToken for OIDC flow",
                "description": "This endpoint allows you to retrieve the access token in exchange for the authorization code.",
                "operationId": "getToken",
                "parameters": [
                    {
                        "name": "arg0",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "object",
                            "additionalProperties": {
                                "type": "string"
                            }
                        }
                    },
                    {
                        "name": "issuer",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "id": {
                                            "type": "string"
                                        },
                                        "version": {
                                            "type": "string"
                                        },
                                        "str": {
                                            "type": "string",
                                            "nullable": true
                                        },
                                        "responsetime": {
                                            "type": "string",
                                            "format": "date-time"
                                        },
                                        "metadata": {
                                            "type": "object",
                                            "nullable": true
                                        },
                                        "response": {
                                            "type": "object",
                                            "properties": {
                                                "access_token": {
                                                    "type": "string"
                                                },
                                                "token_type": {
                                                    "type": "string"
                                                },
                                                "expires_in": {
                                                    "type": "integer"
                                                },
                                                "scope": {
                                                    "type": "string"
                                                },
                                                "refresh_token": {
                                                    "type": "string",
                                                    "nullable": true
                                                }
                                            }
                                        },
                                        "errors": {
                                            "type": "array",
                                            "items": {
                                                "type": "object",
                                                "properties": {
                                                    "errorCode": {
                                                        "type": "string"
                                                    },
                                                    "errorMessage": {
                                                        "type": "string"
                                                    }
                                                }
                                            },
                                            "nullable": true
                                        }
                                    }
                                },
                                "examples": {
                                    "Success response": {
                                        "value": {
                                            "id": "mosip.mimoto.issuers",
                                            "version": "v1",
                                            "str": null,
                                            "responsetime": "2024-04-25T05:56:55.890Z",
                                            "metadata": null,
                                            "response": {
                                                "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
                                                "token_type": "bearer",
                                                "expires_in": 3600,
                                                "scope": "mosip_identity_vc_ldp",
                                                "refresh_token": "xyz123"
                                            },
                                            "errors": []
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "id": {
                                            "type": "string"
                                        },
                                        "version": {
                                            "type": "string"
                                        },
                                        "str": {
                                            "type": "string",
                                            "nullable": true
                                        },
                                        "responsetime": {
                                            "type": "string",
                                            "format": "date-time"
                                        },
                                        "metadata": {
                                            "type": "object",
                                            "nullable": true
                                        },
                                        "response": {
                                            "type": "object",
                                            "nullable": true
                                        },
                                        "errors": {
                                            "type": "array",
                                            "items": {
                                                "type": "object",
                                                "properties": {
                                                    "errorCode": {
                                                        "type": "string"
                                                    },
                                                    "errorMessage": {
                                                        "type": "string"
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                "examples": {
                                    "Failure response": {
                                        "value": {
                                            "id": null,
                                            "version": "v1",
                                            "str": null,
                                            "responsetime": "2022-10-31T05:07:34.789Z",
                                            "metadata": null,
                                            "response": null,
                                            "errors": [
                                                {
                                                    "errorCode": "RESIDENT-APP-26",
                                                    "errorMessage": "Api not accessible failure"
                                                }
                                            ]
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/credentialshare/request": {
            "post": {
                "operationId": "request",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "individualId": {
                                        "type": "string"
                                    },
                                    "otp": {
                                        "type": "string"
                                    },
                                    "transactionID": {
                                        "type": "string"
                                    },
                                    "user": {
                                        "type": "string"
                                    }
                                },
                                "x-examples": {
                                    "Example 1": {
                                        "individualId": "2057135194",
                                        "otp": "111111",
                                        "transactionID": "1234567890",
                                        "user": "mono"
                                    }
                                }
                            },
                            "examples": {
                                "example-1": {
                                    "value": {
                                        "individualId": "2057135194",
                                        "otp": "111111",
                                        "transactionID": "1234567890",
                                        "user": "mono"
                                    }
                                }
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "id": {
                                            "type": "string"
                                        },
                                        "version": {
                                            "type": "string"
                                        },
                                        "str": {
                                            "type": "string",
                                            "nullable": true
                                        },
                                        "responsetime": {
                                            "type": "string",
                                            "format": "date-time",
                                            "nullable": true
                                        },
                                        "metadata": {
                                            "type": "object",
                                            "nullable": true
                                        },
                                        "response": {
                                            "type": "object",
                                            "properties": {
                                                "id": {
                                                    "type": "string"
                                                },
                                                "requestId": {
                                                    "type": "string"
                                                }
                                            }
                                        },
                                        "errors": {
                                            "type": "array",
                                            "items": {
                                                "type": "object",
                                                "properties": {
                                                    "errorCode": {
                                                        "type": "string"
                                                    },
                                                    "errorMessage": {
                                                        "type": "string"
                                                    }
                                                }
                                            },
                                            "nullable": true
                                        }
                                    },
                                    "x-examples": {
                                        "Example 1": {
                                            "id": "mosip.resident.vid",
                                            "version": "v1",
                                            "str": null,
                                            "responsetime": "2022-10-31T05:08:14.846Z",
                                            "metadata": null,
                                            "response": {
                                                "id": "2057135194",
                                                "requestId": "2bc3bb7f-6156-46d1-ae03-bf7b76e0c257"
                                            },
                                            "errors": null
                                        }
                                    }
                                },
                                "examples": {
                                    "Success response": {
                                        "value": {
                                            "id": "mosip.resident.vid",
                                            "version": "v1",
                                            "str": null,
                                            "responsetime": "2022-10-31T05:08:14.846Z",
                                            "metadata": null,
                                            "response": {
                                                "id": "2057135194",
                                                "requestId": "2bc3bb7f-6156-46d1-ae03-bf7b76e0c257"
                                            },
                                            "errors": null
                                        }
                                    },
                                    "Failure response": {
                                        "value": {
                                            "id": null,
                                            "version": "v1",
                                            "str": null,
                                            "responsetime": "2022-10-31T05:07:34.789Z",
                                            "metadata": null,
                                            "response": null,
                                            "errors": [
                                                {
                                                    "errorCode": "RES-SER-422",
                                                    "errorMessage": "Input transactionID does not match transactionID of OTP Request"
                                                }
                                            ]
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "description": "Credential request",
                "tags": [
                    "Credential Download - OTP Flow"
                ],
                "summary": "Generate Credential -  request new credential"
            }
        },
        "/credentialshare/request/status/{requestId}": {
            "get": {
                "operationId": "requestStatus",
                "parameters": [
                    {
                        "name": "requestId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "response": {
                                            "type": "object",
                                            "properties": {
                                                "id": {
                                                    "type": "string"
                                                },
                                                "requestId": {
                                                    "type": "string"
                                                },
                                                "statusCode": {
                                                    "type": "string"
                                                },
                                                "errors": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object",
                                                        "properties": {}
                                                    }
                                                }
                                            }
                                        }
                                    },
                                    "x-examples": {
                                        "Example 1": {
                                            "response": {
                                                "id": "2057135194",
                                                "requestId": "2bc3bb7f-6156-46d1-ae03-bf7b76e0c257",
                                                "statusCode": "ISSUED"
                                            },
                                            "errors": []
                                        }
                                    }
                                },
                                "examples": {
                                    "success response": {
                                        "value": {
                                            "response": {
                                                "id": "2057135194",
                                                "requestId": "2bc3bb7f-6156-46d1-ae03-bf7b76e0c257",
                                                "statusCode": "ISSUED"
                                            },
                                            "errors": []
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "description": "Credential request status",
                "tags": [
                    "Credential Download - OTP Flow"
                ],
                "summary": "Generate Credential -  Check Status of Credential Share"
            },
            "parameters": [
                {
                    "schema": {
                        "type": "string"
                    },
                    "name": "requestId",
                    "in": "path",
                    "required": true,
                    "description": "The credential request id"
                }
            ]
        },
        "/credentialshare/download": {
            "post": {
                "operationId": "download",
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/CredentialDownloadResponseDTO"
                                },
                                "examples": {
                                    "success response": {
                                        "value": {
                                            "credential": {
                                                "biometrics": {
                                                    "face": "<face data>"
                                                },
                                                "province": [
                                                    {
                                                        "language": "eng",
                                                        "value": "Kenitra"
                                                    },
                                                    {
                                                        "language": "kan",
                                                        "value": "ಕೆನಿತ್ರಾ"
                                                    }
                                                ],
                                                "phone": "4567897654",
                                                "city": [
                                                    {
                                                        "language": "eng",
                                                        "value": "Kenitra"
                                                    },
                                                    {
                                                        "language": "kan",
                                                        "value": "ಕೆನಿತ್ರಾ"
                                                    }
                                                ],
                                                "postalCode": "14022",
                                                "fullName": [
                                                    {
                                                        "language": "eng",
                                                        "value": "kimgḻbb"
                                                    },
                                                    {
                                                        "language": "kan",
                                                        "value": "ಕಿಮ್ಗ್ೞ್ಬ್ಬ್"
                                                    }
                                                ],
                                                "region": [
                                                    {
                                                        "language": "eng",
                                                        "value": "Rabat Sale Kenitra"
                                                    },
                                                    {
                                                        "language": "kan",
                                                        "value": "ರಬತ್ ಸಲೆ ಕೆನಿತ್ರ"
                                                    }
                                                ]
                                            },
                                            "verifiableCredential": {
                                                "@context": [
                                                    "https://www.w3.org/2018/credentials/v1",
                                                    "http://localhost:8088/.well-known/mosip-context.json",
                                                    {
                                                        "sec": "https://w3id.org/security#"
                                                    }
                                                ],
                                                "credentialSubject": {
                                                    "biometrics": "<biometrics>",
                                                    "province": [
                                                        {
                                                            "language": "eng",
                                                            "value": "Kenitra"
                                                        },
                                                        {
                                                            "language": "kan",
                                                            "value": "ಕೆನಿತ್ರಾ"
                                                        }
                                                    ],
                                                    "city": [
                                                        {
                                                            "language": "eng",
                                                            "value": "Kenitra"
                                                        },
                                                        {
                                                            "language": "kan",
                                                            "value": "ಕೆನಿತ್ರಾ"
                                                        }
                                                    ],
                                                    "phone": "4567897654",
                                                    "postalCode": "14022",
                                                    "fullName": [
                                                        {
                                                            "language": "eng",
                                                            "value": "kimgḻbb"
                                                        },
                                                        {
                                                            "language": "kan",
                                                            "value": "ಕಿಮ್ಗ್ೞ್ಬ್ಬ್"
                                                        }
                                                    ],
                                                    "dateOfBirth": "1990/01/01",
                                                    "id": "http://credential.idrepo/credentials/2057135194",
                                                    "vcVer": "VC-V1",
                                                    "UIN": "2057135194",
                                                    "region": [
                                                        {
                                                            "language": "eng",
                                                            "value": "Rabat Sale Kenitra"
                                                        },
                                                        {
                                                            "language": "kan",
                                                            "value": "ರಬತ್ ಸಲೆ ಕೆನಿತ್ರ"
                                                        }
                                                    ],
                                                    "email": "santhosdss14@gmail.com"
                                                },
                                                "id": "http://credential.idrepo/credentials/a3afcf8c-e5a6-4782-9ce5-84740ec2f332",
                                                "issuanceDate": "2022-10-31T05:08:26.980Z",
                                                "issuer": "http://localhost:8088/.well-known/controller.json",
                                                "proof": {
                                                    "type": "RsaSignature2018",
                                                    "created": "2022-10-31T05:08:26Z",
                                                    "proofPurpose": "assertionMethod",
                                                    "verificationMethod": "http://localhost:8088/.well-known/public-key.json",
                                                    "jws": "<The jws signature>"
                                                },
                                                "type": [
                                                    "VerifiableCredential",
                                                    "MOSIPVerifiableCredential"
                                                ]
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "description": "download VC",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "individualId": {
                                        "type": "string"
                                    },
                                    "requestId": {
                                        "type": "string"
                                    }
                                },
                                "x-examples": {
                                    "Example 1": {
                                        "individualId": "2057135194",
                                        "requestId": "2bc3bb7f-6156-46d1-ae03-bf7b76e0c257"
                                    }
                                }
                            },
                            "examples": {
                                "example-1": {
                                    "value": {
                                        "individualId": "2057135194",
                                        "requestId": "2bc3bb7f-6156-46d1-ae03-bf7b76e0c257"
                                    }
                                }
                            }
                        }
                    }
                },
                "tags": [
                    "Credential Download - OTP Flow"
                ],
                "summary": "Generate Credential -  Download Credential"
            }
        },
        "/credentialshare/callback/notify": {
            "post": {
                "operationId": "handleSubscribeEvent",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/EventModel"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/GenericResponseDTO"
                                }
                            }
                        }
                    }
                },
                "description": "callback uri used by websub to notify",
                "summary": "Callback API - Notify when credential is ready",
                "tags": [
                    "Credential Download - OTP Flow"
                ],
                "x-internal": true
            }
        },
        "/binding-otp": {
            "post": {
                "operationId": "bindingOtpGenerate",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "x-examples": {
                                    "Example 1": {
                                        "individualId": "2057135194",
                                        "individualIdType": "UIN",
                                        "otp": "111111",
                                        "vidType": "PERPETUAL",
                                        "transactionID": "1234567890"
                                    }
                                },
                                "properties": {
                                    "requestTime": {
                                        "type": "string"
                                    },
                                    "request": {
                                        "type": "object",
                                        "properties": {
                                            "individualId": {
                                                "type": "string",
                                                "description": "The individual id. UIN or VID."
                                            },
                                            "otpChannels": {
                                                "type": "array",
                                                "description": "Otp channels using which user will be notified, for example - EMAIL, PHONE",
                                                "items": {}
                                            }
                                        }
                                    }
                                }
                            },
                            "examples": {
                                "Wallet binding otp request example": {
                                    "value": {
                                        "requestTime": "{{$isoTimestamp}}",
                                        "request": {
                                            "individualId": "3816083254",
                                            "otpChannels": [
                                                "EMAIL"
                                            ]
                                        }
                                    }
                                }
                            }
                        },
                        "application/xml": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "individualId": {
                                        "type": "string"
                                    },
                                    "individualIdType": {
                                        "type": "string"
                                    },
                                    "otp": {
                                        "type": "string"
                                    },
                                    "vidType": {
                                        "type": "string"
                                    },
                                    "transactionID": {
                                        "type": "string"
                                    }
                                },
                                "x-examples": {
                                    "Example 1": {
                                        "individualId": "2057135194",
                                        "individualIdType": "UIN",
                                        "otp": "111111",
                                        "vidType": "PERPETUAL",
                                        "transactionID": "1234567890"
                                    }
                                }
                            },
                            "examples": {
                                "example-1": {
                                    "value": "{\n    \"individualId\": \"2057135194\",\n    \"individualIdType\": \"UIN\",\n    \"otp\": \"111111\",\n    \"vidType\": \"PERPETUAL\",\n    \"transactionID\": \"1234567890\"\n}"
                                }
                            }
                        },
                        "multipart/form-data": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "requestTime": {
                                        "type": "string"
                                    },
                                    "request": {
                                        "type": "object",
                                        "properties": {
                                            "individualId": {
                                                "type": "string"
                                            },
                                            "otpChannels": {
                                                "type": "array",
                                                "items": {}
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "required": true,
                    "description": ""
                },
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "x-examples": {
                                        "Example 1": {
                                            "id": null,
                                            "version": null,
                                            "str": null,
                                            "responsetime": null,
                                            "metadata": null,
                                            "response": {
                                                "maskedEmail": "mock",
                                                "maskedMobile": "mock"
                                            },
                                            "errors": []
                                        }
                                    },
                                    "properties": {
                                        "id": {
                                            "type": "string"
                                        },
                                        "version": {
                                            "type": "string"
                                        },
                                        "responsetime": {
                                            "type": "string"
                                        },
                                        "metadata": {
                                            "type": "object"
                                        },
                                        "response": {
                                            "type": "object",
                                            "properties": {
                                                "maskedEmail": {
                                                    "type": "string",
                                                    "description": "The masked email of user"
                                                },
                                                "maskedMobile": {
                                                    "type": "string",
                                                    "description": "the masked mobile of user."
                                                }
                                            }
                                        }
                                    }
                                },
                                "examples": {
                                    "Success response": {
                                        "value": {
                                            "id": null,
                                            "version": null,
                                            "str": null,
                                            "responsetime": null,
                                            "metadata": null,
                                            "response": {
                                                "maskedEmail": "mono@mono.com",
                                                "maskedMobile": "7897897890"
                                            },
                                            "errors": []
                                        }
                                    },
                                    "Failure response": {
                                        "value": {
                                            "id": "mosip.resident.vid",
                                            "version": "v1",
                                            "str": null,
                                            "responsetime": "2022-10-31T04:57:10.792Z",
                                            "metadata": null,
                                            "response": null,
                                            "errors": [
                                                {
                                                    "errorCode": "RES-SER-422",
                                                    "errorMessage": "Invalid UIN"
                                                }
                                            ]
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "summary": "Wallet Binding - Generate Otp",
                "tags": [
                    "Wallet Binding"
                ],
                "description": "This api is used to generate otp for wallet binding.\nThis api is used as a proxy to call [Identity Provider - Send Binding OTP Endpoint](https://mosip.stoplight.io/docs/identity-provider/a34e5371d4876-send-binding-otp-endpoint-draft) api internally."
            }
        },
        "/wallet-binding": {
            "post": {
                "operationId": "walletBinding",
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "x-examples": {
                                    "Example 1": {
                                        "requestTime": "{{$isoTimestamp}}",
                                        "request": {
                                            "authFactorType": "WLA",
                                            "format": "jwt",
                                            "individualId": "3816083254",
                                            "publicKey": "-----BEGIN RSA PUBLIC KEY-----\nMIICCgKCAgEAxo8hdrLl6nXyPSeSJu8xgmBBwVutacZS57rmIlHeKJfjYhKLT51v\n0k2IQqN2v6A3HOZqzKXh41p3RrxdSndkqqHwS0BLEVPNpKqYoEbe0tUICDpDSFaa\n7w87Z/OSGrw8bKpxmUT0xZ70+DGPhnWlMvPV5xenG1bVtf/vEq7cwQei1iNbNQRb\nqw/57e9LgmXdmbh/v5XOllT7rlUFmVFm4V4J3u6NH9iOPGlIKTplBlYyxlx6ayaR\n09Z6z4RJICG1MIipCv5qJwuzzXXpBja6gEG4xsN5K4W6b5GLt3IuzMMaQmReseRR\n46s53vBp7aqq1wrjs/CZ1SZqZ5ZG/nUchjTv+Nir0vPR9acvPB5j5qDgfdVz2sT/\nYL1HoeFPOIgcY1ydz+tUBm9F4AMCMZa7GbEmtAIWvxlQp6emo50/opdb51B3Teh3\neVQ+JqYYhOpuTEv0uHfhonXEsNfpGyttjR0FSAH2c6mI6UULi/PfLgcvKuqkhE+7\nlB0SFd852C993GqsY7qfxW1GvJpXYRvo6oRoFO8sj+St36MkmzJbm56AQn/9KWd5\nRLh13xrIUVRnW48y/Blchw/C68Ez1bmCyDeVe1WBPwel0zPl62jCtKawzCQiZcTL\n/ejmlKFHKQd980MwWN18OVakKU52CkO0NT+9ovgi0TRfLKvG6PQ1qGECAwEAAQ==\n-----END RSA PUBLIC KEY-----\n",
                                            "challengeList": [
                                                {
                                                    "authFactorType": "OTP",
                                                    "challenge": "111111",
                                                    "format": "alpha-numeric"
                                                }
                                            ]
                                        }
                                    }
                                },
                                "properties": {
                                    "requestTime": {
                                        "type": "string",
                                        "description": "The request time"
                                    },
                                    "request": {
                                        "type": "object",
                                        "properties": {
                                            "authFactorType": {
                                                "type": "string",
                                                "description": "Auth factor type to be binded for the provided key."
                                            },
                                            "format": {
                                                "type": "string",
                                                "description": "Format of the auth factor type supported in the wallet app. Right now Inji supports only jwt."
                                            },
                                            "individualId": {
                                                "type": "string",
                                                "description": "The individual id. UIN or VID.\n"
                                            },
                                            "publicKey": {
                                                "type": "string",
                                                "description": "The public key of the wallet app."
                                            },
                                            "challengeList": {
                                                "type": "array",
                                                "items": {
                                                    "type": "object",
                                                    "properties": {
                                                        "authFactorType": {
                                                            "type": "string",
                                                            "description": "Defines the type of auth challenge. It should be same as authfactor.type (oauth-details response)."
                                                        },
                                                        "challenge": {
                                                            "type": "string",
                                                            "description": "Actual challenge as string. A jwt in case of inji."
                                                        },
                                                        "format": {
                                                            "type": "string",
                                                            "description": "Format of the challenge provided."
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            },
                            "examples": {
                                "Wallet binding otp request example": {
                                    "value": {
                                        "requestTime": "2023-01-17T05:38:41.869Z",
                                        "request": {
                                            "authFactorType": "WLA",
                                            "format": "jwt",
                                            "individualId": "3816083254",
                                            "publicKey": "-----BEGIN RSA PUBLIC KEY-----\nMIICCgKCAgEAxo8hdrLl6nXyPSeSJu8xgmBBwVutacZS57rmIlHeKJfjYhKLT51v\n0k2IQqN2v6A3HOZqzKXh41p3RrxdSndkqqHwS0BLEVPNpKqYoEbe0tUICDpDSFaa\n7w87Z/OSGrw8bKpxmUT0xZ70+DGPhnWlMvPV5xenG1bVtf/vEq7cwQei1iNbNQRb\nqw/57e9LgmXdmbh/v5XOllT7rlUFmVFm4V4J3u6NH9iOPGlIKTplBlYyxlx6ayaR\n09Z6z4RJICG1MIipCv5qJwuzzXXpBja6gEG4xsN5K4W6b5GLt3IuzMMaQmReseRR\n46s53vBp7aqq1wrjs/CZ1SZqZ5ZG/nUchjTv+Nir0vPR9acvPB5j5qDgfdVz2sT/\nYL1HoeFPOIgcY1ydz+tUBm9F4AMCMZa7GbEmtAIWvxlQp6emo50/opdb51B3Teh3\neVQ+JqYYhOpuTEv0uHfhonXEsNfpGyttjR0FSAH2c6mI6UULi/PfLgcvKuqkhE+7\nlB0SFd852C993GqsY7qfxW1GvJpXYRvo6oRoFO8sj+St36MkmzJbm56AQn/9KWd5\nRLh13xrIUVRnW48y/Blchw/C68Ez1bmCyDeVe1WBPwel0zPl62jCtKawzCQiZcTL\n/ejmlKFHKQd980MwWN18OVakKU52CkO0NT+9ovgi0TRfLKvG6PQ1qGECAwEAAQ==\n-----END RSA PUBLIC KEY-----\n",
                                            "challengeList": [
                                                {
                                                    "authFactorType": "OTP",
                                                    "challenge": "111111",
                                                    "format": "alpha-numeric"
                                                }
                                            ]
                                        }
                                    }
                                }
                            }
                        },
                        "application/xml": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "individualId": {
                                        "type": "string"
                                    },
                                    "individualIdType": {
                                        "type": "string"
                                    },
                                    "otp": {
                                        "type": "string"
                                    },
                                    "vidType": {
                                        "type": "string"
                                    },
                                    "transactionID": {
                                        "type": "string"
                                    }
                                },
                                "x-examples": {
                                    "Example 1": {
                                        "individualId": "2057135194",
                                        "individualIdType": "UIN",
                                        "otp": "111111",
                                        "vidType": "PERPETUAL",
                                        "transactionID": "1234567890"
                                    }
                                }
                            },
                            "examples": {
                                "example-1": {
                                    "value": "{\n    \"individualId\": \"2057135194\",\n    \"individualIdType\": \"UIN\",\n    \"otp\": \"111111\",\n    \"vidType\": \"PERPETUAL\",\n    \"transactionID\": \"1234567890\"\n}"
                                }
                            }
                        },
                        "multipart/form-data": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "requestTime": {
                                        "type": "string"
                                    },
                                    "request": {
                                        "type": "object",
                                        "properties": {
                                            "individualId": {
                                                "type": "string"
                                            },
                                            "otpChannels": {
                                                "type": "array",
                                                "items": {}
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "required": true,
                    "description": ""
                },
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "x-examples": {
                                        "Example 1": {
                                            "id": null,
                                            "version": null,
                                            "str": null,
                                            "responsetime": null,
                                            "metadata": null,
                                            "response": {
                                                "certificate": "-----BEGIN CERTIFICATE-----\nMIIDqjCCApKgAwIBAgIGAYW+PCLUMA0GCSqGSIb3DQEBCwUAMBMxETAPBgNVBAMT\nCE1vY2stSURBMB4XDTIzMDExNzA1MzgxMFoXDTIzMDEyNzA1MzgxMFowGTEXMBUG\nA1UEAxMOTW9jay11c2VyLW5hbWUwggIiMA0GCSqGSIb3DQEBAQUAA4ICDwAwggIK\nAoICAQDGjyF2suXqdfI9J5Im7zGCYEHBW61pxlLnuuYiUd4ol+NiEotPnW/STYhC\no3a/oDcc5mrMpeHjWndGvF1Kd2SqofBLQEsRU82kqpigRt7S1QgIOkNIVprvDztn\n85IavDxsqnGZRPTFnvT4MY+GdaUy89XnF6cbVtW1/+8SrtzBB6LWI1s1BFurD/nt\n70uCZd2ZuH+/lc6WVPuuVQWZUWbhXgne7o0f2I48aUgpOmUGVjLGXHprJpHT1nrP\nhEkgIbUwiKkK/monC7PNdekGNrqAQbjGw3krhbpvkYu3ci7MwxpCZF6x5FHjqzne\n8GntqqrXCuOz8JnVJmpnlkb+dRyGNO/42KvS89H1py88HmPmoOB91XPaxP9gvUeh\n4U84iBxjXJ3P61QGb0XgAwIxlrsZsSa0Aha/GVCnp6ajnT+il1vnUHdN6Hd5VD4m\nphiE6m5MS/S4d+GidcSw1+kbK22NHQVIAfZzqYjpRQuL898uBy8q6qSET7uUHRIV\n3znYL33caqxjup/FbUa8mldhG+jqhGgU7yyP5K3foySbMlubnoBCf/0pZ3lEuHXf\nGshRVGdbjzL8GVyHD8LrwTPVuYLIN5V7VYE/B6XTM+XraMK0prDMJCJlxMv96OaU\noUcpB33zQzBY3Xw5VqQpTnYKQ7Q1P72i+CLRNF8sq8bo9DWoYQIDAQABMA0GCSqG\nSIb3DQEBCwUAA4IBAQAmbgQcW22AnrP/GH5lzt+Fy6t20lxqpMDIc3rCO6dzXMCR\n9ocjwLj7E243jGFbhHzC8637qOC8b5bYLZL2ND9ZehSu0qdz/0U0Kwt81rj/lihk\nvhD6xgx8g966AMZcZ0iQncyTzbdEukq6jMAtYfWvAu41rL0H5qvIFvxLHGOoxOYV\n0XZslWTC8B8TB3hzQ+HHexxSZbLSbB+sHFShubOlqqxE/zMj2O+c2FGYSOKlbTXi\nTd4m1WY/eJ4+0XjvEAAMZqLSLtnF5U1POz2onnk0u/lzsRnpxiqJY2++1WmCnuAT\nwDIwNEeAPotfm6tM1TjWuwakYrbSY7Ru0YjaFC1S\n-----END CERTIFICATE-----\n",
                                                "encryptedWalletBindingId": "qeCUuKEjRDUiDHfbYAsHv5L4RCiHe_KE7eKKjpw7jIo",
                                                "expireDateTime": "2023-01-27T05:38:10.000Z",
                                                "thumbprint": "rOe3ifBa0uIuKfArURKRKK5psE8YVdWxXbQoDXAvntk",
                                                "keyId": "1673933890260"
                                            },
                                            "errors": []
                                        }
                                    },
                                    "properties": {
                                        "version": {
                                            "type": "string",
                                            "nullable": true
                                        },
                                        "id": {
                                            "type": "string",
                                            "nullable": true
                                        },
                                        "responsetime": {
                                            "type": "string",
                                            "nullable": true
                                        },
                                        "metadata": {
                                            "type": "string",
                                            "nullable": true
                                        },
                                        "response": {
                                            "type": "object",
                                            "properties": {
                                                "certificate": {
                                                    "type": "string",
                                                    "description": "Server certificate after successful binding. This certificate will be stored in wallet app."
                                                },
                                                "encryptedWalletBindingId": {
                                                    "type": "string",
                                                    "description": "the wallet binding id in encrypted format. The wallet app will associate the requested credential with this id."
                                                },
                                                "expireDateTime": {
                                                    "type": "string",
                                                    "description": "expiry date time of the binding."
                                                },
                                                "thumbprint": {
                                                    "type": "string",
                                                    "description": "the certificate thumbprint."
                                                },
                                                "keyId": {
                                                    "type": "string",
                                                    "description": "the certificate key id."
                                                }
                                            }
                                        },
                                        "errors": {
                                            "type": "array",
                                            "items": {
                                                "type": "object"
                                            }
                                        }
                                    }
                                },
                                "examples": {
                                    "Success response": {
                                        "value": {
                                            "id": null,
                                            "version": null,
                                            "str": null,
                                            "responsetime": null,
                                            "metadata": null,
                                            "response": {
                                                "certificate": "-----BEGIN CERTIFICATE-----\nMIIDqjCCApKgAwIBAgIGAYW+PCLUMA0GCSqGSIb3DQEBCwUAMBMxETAPBgNVBAMT\nCE1vY2stSURBMB4XDTIzMDExNzA1MzgxMFoXDTIzMDEyNzA1MzgxMFowGTEXMBUG\nA1UEAxMOTW9jay11c2VyLW5hbWUwggIiMA0GCSqGSIb3DQEBAQUAA4ICDwAwggIK\nAoICAQDGjyF2suXqdfI9J5Im7zGCYEHBW61pxlLnuuYiUd4ol+NiEotPnW/STYhC\no3a/oDcc5mrMpeHjWndGvF1Kd2SqofBLQEsRU82kqpigRt7S1QgIOkNIVprvDztn\n85IavDxsqnGZRPTFnvT4MY+GdaUy89XnF6cbVtW1/+8SrtzBB6LWI1s1BFurD/nt\n70uCZd2ZuH+/lc6WVPuuVQWZUWbhXgne7o0f2I48aUgpOmUGVjLGXHprJpHT1nrP\nhEkgIbUwiKkK/monC7PNdekGNrqAQbjGw3krhbpvkYu3ci7MwxpCZF6x5FHjqzne\n8GntqqrXCuOz8JnVJmpnlkb+dRyGNO/42KvS89H1py88HmPmoOB91XPaxP9gvUeh\n4U84iBxjXJ3P61QGb0XgAwIxlrsZsSa0Aha/GVCnp6ajnT+il1vnUHdN6Hd5VD4m\nphiE6m5MS/S4d+GidcSw1+kbK22NHQVIAfZzqYjpRQuL898uBy8q6qSET7uUHRIV\n3znYL33caqxjup/FbUa8mldhG+jqhGgU7yyP5K3foySbMlubnoBCf/0pZ3lEuHXf\nGshRVGdbjzL8GVyHD8LrwTPVuYLIN5V7VYE/B6XTM+XraMK0prDMJCJlxMv96OaU\noUcpB33zQzBY3Xw5VqQpTnYKQ7Q1P72i+CLRNF8sq8bo9DWoYQIDAQABMA0GCSqG\nSIb3DQEBCwUAA4IBAQAmbgQcW22AnrP/GH5lzt+Fy6t20lxqpMDIc3rCO6dzXMCR\n9ocjwLj7E243jGFbhHzC8637qOC8b5bYLZL2ND9ZehSu0qdz/0U0Kwt81rj/lihk\nvhD6xgx8g966AMZcZ0iQncyTzbdEukq6jMAtYfWvAu41rL0H5qvIFvxLHGOoxOYV\n0XZslWTC8B8TB3hzQ+HHexxSZbLSbB+sHFShubOlqqxE/zMj2O+c2FGYSOKlbTXi\nTd4m1WY/eJ4+0XjvEAAMZqLSLtnF5U1POz2onnk0u/lzsRnpxiqJY2++1WmCnuAT\nwDIwNEeAPotfm6tM1TjWuwakYrbSY7Ru0YjaFC1S\n-----END CERTIFICATE-----\n",
                                                "encryptedWalletBindingId": "qeCUuKEjRDUiDHfbYAsHv5L4RCiHe_KE7eKKjpw7jIo",
                                                "expireDateTime": "2023-01-27T05:38:10.000Z",
                                                "thumbprint": "rOe3ifBa0uIuKfArURKRKK5psE8YVdWxXbQoDXAvntk",
                                                "keyId": "1673933890260"
                                            },
                                            "errors": []
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "summary": "Wallet Binding -  Bind Credential with wallet",
                "tags": [
                    "Wallet Binding"
                ],
                "description": "This api is used to bind the credential   with wallet.\nThis api is used as a proxy to call [Identity Provider - Wallet binding Endpoint](https://mosip.stoplight.io/docs/identity-provider/6e91115b16311-wallet-binding-endpoint) api internally."
            }
        },
        "/allProperties": {
            "get": {
                "operationId": "getAllProperties",
                "responses": {
                    "200": {
                        "description": "Successfully retrieved all configurable properties for Inji.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "response": {
                                            "type": "object",
                                            "additionalProperties": {
                                                "type": "string"
                                            }
                                        },
                                        "errors": {
                                            "type": "array",
                                            "items": {
                                                "type": "object"
                                            }
                                        }
                                    }
                                },
                                "examples": {
                                    "example-1": {
                                        "value": {
                                            "response": {
                                                "internal.auth.types.allowed": "otp,bio-Finger,bio-Iris,bio-Face",
                                                "auth.types.allowed": "demo,otp,bio-Finger,bio-Iris,bio-Face",
                                                "ekyc.auth.types.allowed": "demo,otp,bio-Finger,bio-Iris,bio-Face"
                                            },
                                            "errors": []
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "description": "Get all configurable properties for Inji.",
                "summary": "Get all Inji app properties",
                "tags": [
                    "Inji Config"
                ]
            }
        },
        "/issuers": {
            "get": {
                "operationId": "getAllIssuers",
                "parameters": [
                    {
                        "name": "search",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "tags": [
                    "Trusted Issuers"
                ],
                "description": "This API provides data with search capability to populate the list of supported issuers in Inji Web, which is then displayed under the List of Issuers",
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "issuers": {
                                            "type": "array",
                                            "items": {
                                                "type": "object",
                                                "properties": {
                                                    "issuer_id": {
                                                        "type": "string"
                                                    },
                                                    "protocol": {
                                                        "type": "string"
                                                    },
                                                    "display": {
                                                        "type": "array",
                                                        "items": {
                                                            "type": "object",
                                                            "properties": {
                                                                "name": {
                                                                    "type": "string"
                                                                },
                                                                "logo": {
                                                                    "type": "object",
                                                                    "properties": {
                                                                        "url": {
                                                                            "type": "string"
                                                                        },
                                                                        "alt_text": {
                                                                            "type": "string"
                                                                        }
                                                                    }
                                                                },
                                                                "title": {
                                                                    "type": "string"
                                                                },
                                                                "description": {
                                                                    "type": "string"
                                                                },
                                                                "language": {
                                                                    "type": "string"
                                                                }
                                                            }
                                                        }
                                                    },
                                                    "client_id": {
                                                        "type": "string"
                                                    },
                                                    "wellknown_endpoint": {
                                                        "type": "string"
                                                    },
                                                    "redirect_uri": {
                                                        "type": "string"
                                                    },
                                                    "authorization_audience": {
                                                        "type": "string"
                                                    },
                                                    "token_endpoint": {
                                                        "type": "string"
                                                    },
                                                    "proxy_token_endpoint": {
                                                        "type": "string"
                                                    },
                                                    "client_alias": {
                                                        "type": "string"
                                                    },
                                                    "qr_code_type": {
                                                        "type": "string",
                                                        "enum": [
                                                            "OnlineSharing",
                                                            "EmbeddedVC",
                                                            "None"
                                                        ]
                                                    },
                                                    "enabled": {
                                                        "type": "string"
                                                    },
                                                    "credential_issuer": {
                                                        "type": "string"
                                                    },
                                                    "credential_issuer_host": {
                                                        "type": "string"
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                "x-examples": {
                                    "Example 1": {
                                        "id": "mosip.resident.vid",
                                        "version": "v1",
                                        "str": null,
                                        "responsetime": "2022-10-31T05:08:14.846Z",
                                        "metadata": null,
                                        "response": {
                                            "issuers": [
                                                {
                                                    "issuer_id": "MOSIPInsurance",
                                                    "credential_issuer": "MOSIPInsurance",
                                                    "credential_issuer_host": "https://injicertify-insurance.collab.mosip.net",
                                                    "protocol": "OpenId4VCI",
                                                    "display": [
                                                        {
                                                            "name": "MOSIP Insurance",
                                                            "logo": {
                                                                "url": "https://api.collab.mosip.net/inji/mosip-logo.png",
                                                                "alt_text": "MOSIP-Logo"
                                                            },
                                                            "title": "Download via LIC",
                                                            "description": "This API provides data to populate the list of supported issuers in Inji Web, which is then displayed under the List of Issuers section on the Home page of Inji Web.",
                                                            "language": "en"
                                                        }
                                                    ],
                                                    "client_id": "3yz7-j3xRzU3SODdoNgSGvO_cD8UijH3AIWRDAg1x-M",
                                                    "wellknown_endpoint": "http://localhost:8088/.well-known/openid-credential-issuer"
                                                },
                                                {
                                                    "issuer_id": "MOSIPNationalID",
                                                    "credential_issuer": "MOSIPNationalID",
                                                    "credential_issuer_host": "https://injicertify-mosipid.released.mosip.net",
                                                    "protocol": "OpenId4VCI",
                                                    "display": [
                                                        {
                                                            "name": "MOSIP National ID",
                                                            "logo": {
                                                                "url": "https://api.collab.mosip.net/inji/mosip-logo.png",
                                                                "alt_text": "MOSIP-Logo"
                                                            },
                                                            "title": "Download via LIC",
                                                            "description": "Enter your policy number to download your card.",
                                                            "language": "en"
                                                        }
                                                    ],
                                                    "client_id": "3yz7-j3xRzU3SODdoNgSGvO_cD8UijH3AIWRDAg1x-M",
                                                    "wellknown_endpoint": "http://localhost:8088/.well-known/openid-credential-issuer"
                                                }
                                            ]
                                        },
                                        "errors": null
                                    }
                                },
                                "examples": {
                                    "Success response": {
                                        "value": {
                                            "id": "mosip.resident.vid",
                                            "version": "v1",
                                            "str": null,
                                            "responsetime": "2022-10-31T05:08:14.846Z",
                                            "metadata": null,
                                            "response": {
                                                "issuers": [
                                                    {
                                                        "issuer_id": "MOSIPInsurance",
                                                        "credential_issuer": "MOSIPInsurance",
                                                        "credential_issuer_host": "https://injicertify-insurance.collab.mosip.net",
                                                        "protocol": "OpenId4VCI",
                                                        "display": [
                                                            {
                                                                "name": "MOSIP Insurance",
                                                                "logo": {
                                                                    "url": "https://api.collab.mosip.net/inji/mosip-logo.png",
                                                                    "alt_text": "MOSIP-Logo"
                                                                },
                                                                "title": "Download via LIC",
                                                                "description": "Enter your policy number to download your card.",
                                                                "language": "en"
                                                            }
                                                        ],
                                                        "client_id": "3yz7-j3xRzU3SODdoNgSGvO_cD8UijH3AIWRDAg1x-M",
                                                        ".well-known": "http://localhost:8088/.well-known/openid-credential-issuer"
                                                    },
                                                    {
                                                        "issuer_id": "MOSIPNationalID",
                                                        "credential_issuer": "MOSIPNationalID",
                                                        "credential_issuer_host": "https://injicertify-mosipid.released.mosip.net",
                                                        "protocol": "OpenId4VCI",
                                                        "display": [
                                                            {
                                                                "name": "MOSIP National ID",
                                                                "logo": {
                                                                    "url": "https://api.collab.mosip.net/inji/mosip-logo.png",
                                                                    "alt_text": "MOSIP-Logo"
                                                                },
                                                                "title": "Download via LIC",
                                                                "description": "Enter your policy number to download your card.",
                                                                "language": "en"
                                                            }
                                                        ],
                                                        "client_id": "3yz7-j3xRzU3SODdoNgSGvO_cD8UijH3AIWRDAg1x-M",
                                                        ".well-known": "http://localhost:8088/.well-known/openid-credential-issuer"
                                                    }
                                                ]
                                            }
                                        }
                                    },
                                    "Failure response": {
                                        "value": {
                                            "id": null,
                                            "version": "v1",
                                            "str": null,
                                            "responsetime": "2022-10-31T05:07:34.789Z",
                                            "metadata": null,
                                            "response": null,
                                            "errors": [
                                                {
                                                    "errorCode": "RESIDENT-APP-26",
                                                    "errorMessage": "Api not accessible failure"
                                                }
                                            ]
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/issuers/{issuer-id}": {
            "get": {
                "operationId": "getIssuerConfig",
                "parameters": [
                    {
                        "name": "issuer-id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "tags": [
                    "Trusted Issuers"
                ],
                "description": "This API provides the complete configuration details for the specific issuers passed in the path variable",
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "response": {
                                            "type": "object",
                                            "properties": {
                                                "issuer_id": {
                                                    "type": "string"
                                                },
                                                "protocol": {
                                                    "type": "string"
                                                },
                                                "display": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object",
                                                        "properties": {
                                                            "name": {
                                                                "type": "string"
                                                            },
                                                            "logo": {
                                                                "type": "object",
                                                                "properties": {
                                                                    "url": {
                                                                        "type": "string"
                                                                    },
                                                                    "alt_text": {
                                                                        "type": "string"
                                                                    }
                                                                }
                                                            },
                                                            "title": {
                                                                "type": "string"
                                                            },
                                                            "description": {
                                                                "type": "string"
                                                            },
                                                            "language": {
                                                                "type": "string"
                                                            }
                                                        }
                                                    }
                                                },
                                                "client_id": {
                                                    "type": "string"
                                                },
                                                "wellknown_endpoint": {
                                                    "type": "string"
                                                },
                                                "redirect_uri": {
                                                    "type": "string"
                                                },
                                                "authorization_audience": {
                                                    "type": "string"
                                                },
                                                "token_endpoint": {
                                                    "type": "string"
                                                },
                                                "proxy_token_endpoint": {
                                                    "type": "string"
                                                },
                                                "client_alias": {
                                                    "type": "string"
                                                },
                                                "qr_code_type": {
                                                    "type": "string",
                                                    "enum": [
                                                        "OnlineSharing",
                                                        "EmbeddedVC",
                                                        "None"
                                                    ]
                                                },
                                                "enabled": {
                                                    "type": "boolean"
                                                },
                                                "credential_issuer": {
                                                    "type": "string"
                                                },
                                                "credential_issuer_host": {
                                                    "type": "string"
                                                }
                                            }
                                        },
                                        "errors": {
                                            "type": "array",
                                            "items": {
                                                "type": "object",
                                                "properties": {
                                                    "code": {
                                                        "type": "string"
                                                    },
                                                    "message": {
                                                        "type": "string"
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                "x-examples": {
                                    "Example 1": {
                                        "response": {
                                            "issuer_id": "ESignet",
                                            "protocol": "OpenId4VCI",
                                            "display": [
                                                {
                                                    "name": "e-Signet",
                                                    "logo": {
                                                        "url": "https://api.collab.mosip.net/inji/mosip-logo.png",
                                                        "alt_text": "mosip-logo"
                                                    },
                                                    "title": "Download MOSIP Credentials",
                                                    "description": "Download credentials by providing UIN or VID",
                                                    "language": "en"
                                                },
                                                {
                                                    "name": "e-Signet",
                                                    "logo": {
                                                        "url": "https://api.collab.mosip.net/inji/mosip-logo.png",
                                                        "alt_text": "شعار موسيب"
                                                    },
                                                    "title": "قم بتنزيل بيانات اعتماد MOSIP",
                                                    "description": "توفير UIN أو VIDقم بتنزيل بيانات الاعتماد عن طريق",
                                                    "language": "ar"
                                                },
                                                {
                                                    "name": "e-Signet",
                                                    "logo": {
                                                        "url": "https://api.collab.mosip.net/inji/mosip-logo.png",
                                                        "alt_text": "मोसिप लोगो"
                                                    },
                                                    "title": "MOSIP क्रेडेंशियल डाउनलोड करेंं",
                                                    "description": "यूआईएन या वीआईडी प्रदान करके क्रेडेंशियल डाउनलोड करें",
                                                    "language": "hi"
                                                }
                                            ],
                                            "client_id": "*****",
                                            "redirect_uri": "io.mosip.residentapp.inji://oauthredirect",
                                            "scopes_supported": [
                                                "mosip_identity_vc_ldp"
                                            ],
                                            "authorization_endpoint": "https://esignet.collab.mosip.net/authorize",
                                            "authorization_audience": "https://esignet.collab.mosip.net/v1/esignet/oauth/v2/token",
                                            "token_endpoint": "https://api.collab.mosip.net/v1/mimoto/get-token/ESignet",
                                            "proxy_token_endpoint": "https://esignet.collab.mosip.net/v1/esignet/oauth/v2/token",
                                            "credential_endpoint": "https://esignet.collab.mosip.net/v1/esignet/vci/credential",
                                            "credential_type": [
                                                "VerifiableCredential",
                                                "MOSIPVerifiableCredential"
                                            ],
                                            "credential_audience": "https://esignet.collab.mosip.net",
                                            "client_alias": "mpartner-default-mimotooidc",
                                            "additional_headers": {
                                                "Accept": "application/json"
                                            },
                                            "wellknown_endpoint": "https://esignet.collab.mosip.net/.well-known/openid-credential-issuer"
                                        },
                                        "errors": []
                                    },
                                    "errors": null
                                },
                                "examples": {
                                    "Success response": {
                                        "value": {
                                            "id": "mosip.mimoto.issuers",
                                            "version": "v1",
                                            "str": null,
                                            "responsetime": "2024-04-25T05:56:55.890Z",
                                            "metadata": null,
                                            "response": {
                                                "issuer_id": "mosip.mimoto.issuers",
                                                "protocol": "OpenId4VCI",
                                                "display": [
                                                    {
                                                        "name": "e-Signet",
                                                        "logo": {
                                                            "url": "https://api.collab.mosip.net/inji/mosip-logo.png",
                                                            "alt_text": "mosip-logo"
                                                        },
                                                        "title": "Download MOSIP Credentials",
                                                        "description": "Download credentials by providing UIN or VID",
                                                        "language": "en"
                                                    },
                                                    {
                                                        "name": "e-Signet",
                                                        "logo": {
                                                            "url": "https://api.collab.mosip.net/inji/mosip-logo.png",
                                                            "alt_text": "شعار موسيب"
                                                        },
                                                        "title": "قم بتنزيل بيانات اعتماد MOSIP",
                                                        "description": "توفير UIN أو VIDقم بتنزيل بيانات الاعتماد عن طريق",
                                                        "language": "ar"
                                                    },
                                                    {
                                                        "name": "e-Signet",
                                                        "logo": {
                                                            "url": "https://api.collab.mosip.net/inji/mosip-logo.png",
                                                            "alt_text": "मोसिप लोगो"
                                                        },
                                                        "title": "MOSIP क्रेडेंशियल डाउनलोड करेंं",
                                                        "description": "यूआईएन या वीआईडी प्रदान करके क्रेडेंशियल डाउनलोड करें",
                                                        "language": "hi"
                                                    },
                                                    {
                                                        "name": "e-Signet",
                                                        "logo": {
                                                            "url": "https://api.collab.mosip.net/inji/mosip-logo.png",
                                                            "alt_text": "mosip ಲೋಗೋ"
                                                        },
                                                        "title": "MOSIP ರುಜುವಾತುಗಳನ್ನು ಡೌನ್ಲೋಡ್ ಮಾಡಿ",
                                                        "description": "UIN ಅಥವಾ VID ಒದಗಿಸುವ ಮೂಲಕ ರುಜುವಾತುಗಳನ್ನು ಡೌನ್ಲೋಡ್ ಮಾಡಿ",
                                                        "language": "kn"
                                                    },
                                                    {
                                                        "name": "e-Signet",
                                                        "logo": {
                                                            "url": "https://api.collab.mosip.net/inji/mosip-logo.png",
                                                            "alt_text": "mosip லோகோ"
                                                        },
                                                        "title": "MOSIP சான்றுகளைப் பதிவிறக்கவும்",
                                                        "description": "UIN அல்லது VIDஐ வழங்குவதன் மூலம் நற்சான்றிதழ்களைப் பதிவிறக்கவும்",
                                                        "language": "ta"
                                                    },
                                                    {
                                                        "name": "e-Signet",
                                                        "logo": {
                                                            "url": "https://api.collab.mosip.net/inji/mosip-logo.png",
                                                            "alt_text": "logo ng mosip"
                                                        },
                                                        "title": "I-download ang Mga Kredensyal ng MOSIP",
                                                        "description": "Mag-download ng mga kredensyal sa pamamagitan ng pagbibigay ng UIN o VID",
                                                        "language": "fil"
                                                    }
                                                ],
                                                "client_id": "DEqVWfdKe9cQWikLdjak3vlDF0Pq7jtnwTcGdEXoT1I",
                                                "redirect_uri": "io.mosip.residentapp.inji://oauthredirect",
                                                "authorization_audience": "https://esignet.collab.mosip.net/v1/esignet/oauth/v2/token",
                                                "token_endpoint": "https://api.collab.mosip.net/v1/mimoto/get-token/ESignet",
                                                "proxy_token_endpoint": "https://esignet.collab.mosip.net/v1/esignet/oauth/v2/token",
                                                "credential_endpoint": "https://esignet.collab.mosip.net/v1/esignet/vci/credential",
                                                "credential_type": [
                                                    "VerifiableCredential",
                                                    "MOSIPVerifiableCredential"
                                                ],
                                                "credential_audience": "https://esignet.collab.mosip.net",
                                                "client_alias": "mpartner-default-mimotooidc",
                                                "additional_headers": {
                                                    "Accept": "application/json"
                                                },
                                                "wellknown_endpoint": "https://esignet.collab.mosip.net/.well-known/openid-credential-issuer"
                                            },
                                            "errors": []
                                        }
                                    },
                                    "Failure response": {
                                        "value": {
                                            "id": null,
                                            "version": "v1",
                                            "str": null,
                                            "responsetime": "2022-10-31T05:07:34.789Z",
                                            "metadata": null,
                                            "response": null,
                                            "errors": [
                                                {
                                                    "errorCode": "RESIDENT-APP-26",
                                                    "errorMessage": "Api not accessible failure"
                                                }
                                            ]
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/issuers/{issuer-id}/well-known-proxy": {
            "get": {
                "operationId": "getCredentialWellknown",
                "parameters": [
                    {
                        "name": "issuer-id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "tags": [
                    "Trusted Issuers"
                ],
                "deprecated": true,
                "description": "This API fetches and allows searching for Credential Types offered by the issuer, all sourced from the issuer's well-known configuration. Since version 0.16.0, this endpoint is deprecated and will be removed in a future release. Use issuers new endpoint issuers/{issuer-id}/configuration instead.",
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "credential_issuer": {
                                            "type": "string"
                                        },
                                        "authorization_servers": {
                                            "type": "array",
                                            "items": {
                                                "type": "string"
                                            }
                                        },
                                        "credential_endpoint": {
                                            "type": "string"
                                        },
                                        "credential_configurations_supported": {
                                            "type": "object",
                                            "additionalProperties": {
                                                "type": "object",
                                                "properties": {
                                                    "format": {
                                                        "type": "string"
                                                    },
                                                    "scope": {
                                                        "type": "string"
                                                    },
                                                    "doctype": {
                                                        "type": "string"
                                                    },
                                                    "proof_types_supported": {
                                                        "type": "object",
                                                        "additionalProperties": {
                                                            "type": "object",
                                                            "properties": {
                                                                "proof_signing_alg_values_supported": {
                                                                    "type": "array",
                                                                    "items": {
                                                                        "type": "string"
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    },
                                                    "claims": {
                                                        "type": "object"
                                                    },
                                                    "credential_definition": {
                                                        "type": "object",
                                                        "properties": {
                                                            "type": {
                                                                "type": "array",
                                                                "items": {
                                                                    "type": "string"
                                                                }
                                                            },
                                                            "credentialSubject": {
                                                                "type": "object",
                                                                "additionalProperties": {
                                                                    "type": "object",
                                                                    "properties": {
                                                                        "display": {
                                                                            "type": "array",
                                                                            "items": {
                                                                                "type": "object",
                                                                                "properties": {
                                                                                    "name": {
                                                                                        "type": "string"
                                                                                    },
                                                                                    "locale": {
                                                                                        "type": "string"
                                                                                    }
                                                                                }
                                                                            }
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    },
                                                    "display": {
                                                        "type": "array",
                                                        "items": {
                                                            "type": "object",
                                                            "properties": {
                                                                "name": {
                                                                    "type": "string"
                                                                },
                                                                "locale": {
                                                                    "type": "string"
                                                                },
                                                                "logo": {
                                                                    "type": "object",
                                                                    "properties": {
                                                                        "url": {
                                                                            "type": "string"
                                                                        },
                                                                        "alt_text": {
                                                                            "type": "string"
                                                                        }
                                                                    }
                                                                },
                                                                "background_image": {
                                                                    "type": "object",
                                                                    "properties": {
                                                                        "uri": {
                                                                            "type": "string"
                                                                        }
                                                                    }
                                                                },
                                                                "background_color": {
                                                                    "type": "string"
                                                                },
                                                                "text_color": {
                                                                    "type": "string"
                                                                }
                                                            }
                                                        }
                                                    },
                                                    "order": {
                                                        "type": "array",
                                                        "items": {
                                                            "type": "string"
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                "examples": {
                                    "Success response": {
                                        "value": {
                                            "credential_issuer": "https://injicertify-insurance.dev1.mosip.net",
                                            "authorization_servers": [
                                                "https://esignet-insurance.dev1.mosip.net"
                                            ],
                                            "credential_endpoint": "https://injicertify-insurance.dev1.mosip.net/v1/certify/issuance/credential",
                                            "credential_configurations_supported": {
                                                "InsuranceCredential": {
                                                    "format": "ldp_vc",
                                                    "scope": "sunbird_rc_insurance_vc_ldp",
                                                    "order": [
                                                        "fullName",
                                                        "policyName",
                                                        "policyExpiresOn",
                                                        "policyIssuedOn",
                                                        "policyNumber",
                                                        "mobile",
                                                        "dob",
                                                        "gender",
                                                        "benefits",
                                                        "email"
                                                    ],
                                                    "proof_types_supported": {
                                                        "jwt": {
                                                            "proof_signing_alg_values_supported": [
                                                                "RS256",
                                                                "PS256"
                                                            ]
                                                        }
                                                    },
                                                    "credential_definition": {
                                                        "type": [
                                                            "VerifiableCredential",
                                                            "InsuranceCredential"
                                                        ],
                                                        "credentialSubject": {
                                                            "fullName": {
                                                                "display": [
                                                                    {
                                                                        "name": "Name",
                                                                        "locale": "en"
                                                                    }
                                                                ]
                                                            },
                                                            "mobile": {
                                                                "display": [
                                                                    {
                                                                        "name": "Phone Number",
                                                                        "locale": "en"
                                                                    }
                                                                ]
                                                            },
                                                            "dob": {
                                                                "display": [
                                                                    {
                                                                        "name": "Date of Birth",
                                                                        "locale": "en"
                                                                    }
                                                                ]
                                                            },
                                                            "gender": {
                                                                "display": [
                                                                    {
                                                                        "name": "Gender",
                                                                        "locale": "en"
                                                                    }
                                                                ]
                                                            },
                                                            "benefits": {
                                                                "display": [
                                                                    {
                                                                        "name": "Benefits",
                                                                        "locale": "en"
                                                                    }
                                                                ]
                                                            },
                                                            "email": {
                                                                "display": [
                                                                    {
                                                                        "name": "Email Id",
                                                                        "locale": "en"
                                                                    }
                                                                ]
                                                            },
                                                            "policyIssuedOn": {
                                                                "display": [
                                                                    {
                                                                        "name": "Policy Issued On",
                                                                        "locale": "en"
                                                                    }
                                                                ]
                                                            },
                                                            "policyExpiresOn": {
                                                                "display": [
                                                                    {
                                                                        "name": "Policy Expires On",
                                                                        "locale": "en"
                                                                    }
                                                                ]
                                                            },
                                                            "policyName": {
                                                                "display": [
                                                                    {
                                                                        "name": "Policy Name",
                                                                        "locale": "en"
                                                                    }
                                                                ]
                                                            },
                                                            "policyNumber": {
                                                                "display": [
                                                                    {
                                                                        "name": "Policy Number",
                                                                        "locale": "en"
                                                                    }
                                                                ]
                                                            }
                                                        }
                                                    },
                                                    "display": [
                                                        {
                                                            "name": "Health Insurance",
                                                            "locale": "en",
                                                            "logo": {
                                                                "url": "https://raw.githubusercontent.com/tw-mosip/file-server/master/StayProtectedInsurance.png",
                                                                "alt_text": "a square logo of a Veridonia"
                                                            },
                                                            "background_image": {
                                                                "uri": "https://api.dev1.mosip.net/inji/veridonia-logo.png"
                                                            },
                                                            "background_color": "#FDFAF9",
                                                            "text_color": "#7C4616"
                                                        }
                                                    ]
                                                },
                                                "LifeInsuranceCredential": {
                                                    "format": "ldp_vc",
                                                    "scope": "life_insurance_vc_ldp",
                                                    "order": [
                                                        "fullName",
                                                        "policyName",
                                                        "policyExpiresOn",
                                                        "policyIssuedOn",
                                                        "policyNumber",
                                                        "mobile",
                                                        "dob",
                                                        "gender",
                                                        "benefits",
                                                        "email"
                                                    ],
                                                    "proof_types_supported": {
                                                        "jwt": {
                                                            "proof_signing_alg_values_supported": [
                                                                "RS256",
                                                                "ES256"
                                                            ]
                                                        }
                                                    },
                                                    "credential_definition": {
                                                        "type": [
                                                            "VerifiableCredential",
                                                            "LifeInsuranceCredential"
                                                        ],
                                                        "credentialSubject": {
                                                            "fullName": {
                                                                "display": [
                                                                    {
                                                                        "name": "Name",
                                                                        "locale": "en"
                                                                    }
                                                                ]
                                                            },
                                                            "mobile": {
                                                                "display": [
                                                                    {
                                                                        "name": "Phone Number",
                                                                        "locale": "en"
                                                                    }
                                                                ]
                                                            },
                                                            "dob": {
                                                                "display": [
                                                                    {
                                                                        "name": "Date of Birth",
                                                                        "locale": "en"
                                                                    }
                                                                ]
                                                            },
                                                            "gender": {
                                                                "display": [
                                                                    {
                                                                        "name": "Gender",
                                                                        "locale": "en"
                                                                    }
                                                                ]
                                                            },
                                                            "benefits": {
                                                                "display": [
                                                                    {
                                                                        "name": "Benefits",
                                                                        "locale": "en"
                                                                    }
                                                                ]
                                                            },
                                                            "email": {
                                                                "display": [
                                                                    {
                                                                        "name": "Email Id",
                                                                        "locale": "en"
                                                                    }
                                                                ]
                                                            },
                                                            "policyIssuedOn": {
                                                                "display": [
                                                                    {
                                                                        "name": "Policy Issued On",
                                                                        "locale": "en"
                                                                    }
                                                                ]
                                                            },
                                                            "policyExpiresOn": {
                                                                "display": [
                                                                    {
                                                                        "name": "Policy Expires On",
                                                                        "locale": "en"
                                                                    }
                                                                ]
                                                            },
                                                            "policyName": {
                                                                "display": [
                                                                    {
                                                                        "name": "Policy Name",
                                                                        "locale": "en"
                                                                    }
                                                                ]
                                                            },
                                                            "policyNumber": {
                                                                "display": [
                                                                    {
                                                                        "name": "Policy Number",
                                                                        "locale": "en"
                                                                    }
                                                                ]
                                                            }
                                                        }
                                                    },
                                                    "display": [
                                                        {
                                                            "name": "Life Insurance",
                                                            "locale": "en",
                                                            "logo": {
                                                                "url": "https://raw.githubusercontent.com/tw-mosip/file-server/master/StayProtectedInsurance.png",
                                                                "alt_text": "a square logo of a Veridonia"
                                                            },
                                                            "background_image": {
                                                                "uri": "https://api.dev1.mosip.net/inji/veridonia-logo.png"
                                                            },
                                                            "background_color": "#FDFAF9",
                                                            "text_color": "#7C4616"
                                                        }
                                                    ]
                                                }
                                            }
                                        }
                                    },
                                    "Failure response": {
                                        "value": {
                                            "id": null,
                                            "version": "v1",
                                            "str": null,
                                            "responsetime": "2022-10-31T05:07:34.789Z",
                                            "metadata": null,
                                            "response": null,
                                            "errors": [
                                                {
                                                    "errorCode": "RESIDENT-APP-026",
                                                    "errorMessage": "Api not accessible failure"
                                                }
                                            ]
                                        }
                                    },
                                    "Failure response 2": {
                                        "value": {
                                            "id": null,
                                            "version": "v1",
                                            "str": null,
                                            "responsetime": "2022-10-31T05:07:34.789Z",
                                            "metadata": null,
                                            "response": null,
                                            "errors": [
                                                {
                                                    "errorCode": "RESIDENT-APP-035",
                                                    "errorMessage": "Invalid issuer ID"
                                                }
                                            ]
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "summary": "Get Issuers Wellknown"
            }
        },
        "/issuers/{issuer-id}/configuration": {
            "get": {
                "operationId": "getCredentialIssuerConfiguration",
                "parameters": [
                    {
                        "name": "issuer-id",
                        "in": "path",
                        "required": true,
                        "description": "The unique identifier of the credential issuer.",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "tags": [
                    "Trusted Issuers"
                ],
                "description": "Retrieve the required configuration details for a specific issuer and its authorization server from their respective well-known endpoints.",
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/IssuerConfigurationSuccessResponse"
                                },
                                "examples": {
                                    "SuccessResponse": {
                                        "summary": "Issuer Configuration Response",
                                        "value": {
                                            "response": {
                                                "credentials_supported": [
                                                    {
                                                        "name": "InsuranceCredential",
                                                        "scope": "sunbird_rc_insurance_vc_ldp",
                                                        "display": [
                                                            {
                                                                "name": "Health Insurance",
                                                                "locale": "en",
                                                                "logo": "https://raw.githubusercontent.com/tw-mosip/file-server/master/StayProtectedInsurance.png"
                                                            }
                                                        ]
                                                    }
                                                ],
                                                "authorization_endpoint": "https://esignet-insurance.collab.mosip.net/authorize",
                                                "grant_types_supported": [
                                                    "authorization_code"
                                                ]
                                            },
                                            "errors": []
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/IssuerConfigurationErrorResponse"
                                },
                                "examples": {
                                    "FailureResponse1": {
                                        "summary": "Api not accessible failure",
                                        "value": {
                                            "errors": [
                                                {
                                                    "errorCode": "RESIDENT-APP-026",
                                                    "errorMessage": "Api not accessible failure"
                                                }
                                            ],
                                            "response": null
                                        }
                                    },
                                    "FailureResponse2": {
                                        "summary": "Invalid issuer ID",
                                        "value": {
                                            "errors": [
                                                {
                                                    "errorCode": "RESIDENT-APP-035",
                                                    "errorMessage": "Invalid issuer ID"
                                                }
                                            ],
                                            "response": null
                                        }
                                    },
                                    "FailureResponse3": {
                                        "summary": "Invalid Authorization Server well-known endpoint",
                                        "value": {
                                            "errors": [
                                                {
                                                    "errorCode": "RESIDENT-APP-042",
                                                    "errorMessage": "Invalid Authorization Server well-known from server:\nAuthorization Server host url cannot be null"
                                                }
                                            ],
                                            "response": null
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/credentials/download": {
            "post": {
                "requestBody": {
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "grant_type": {
                                        "type": "string",
                                        "example": "authorization_code"
                                    },
                                    "code": {
                                        "type": "string",
                                        "example": "GL9N1V-authorizationcodeyBkoaonjplms"
                                    },
                                    "redirect_uri": {
                                        "type": "string",
                                        "example": "https://injiweb.collab.mosip.net/redirect"
                                    },
                                    "code_verifier": {
                                        "type": "string",
                                        "example": "Sq6nZNToevcodeVerifierjXw70LCJ"
                                    },
                                    "issuer": {
                                        "type": "string",
                                        "example": "Mosip"
                                    },
                                    "credential": {
                                        "type": "string",
                                        "example": "MosipVerifiableCredential"
                                    },
                                    "vcStorageExpiryLimitInTimes": {
                                        "type": "string",
                                        "example": "1"
                                    },
                                    "locale": {
                                        "type": "string",
                                        "example": "en"
                                    }
                                }
                            }
                        }
                    },
                    "required": true
                },
                "tags": [
                    "Credentials Download"
                ],
                "description": "This API is responsible for generating PDFs for the received VC content. It fetches display properties from the well-known configuration of the issuer and incorporates them into the predefined template of the PDF file.",
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/pdf": {
                                "schema": {
                                    "type": "string",
                                    "format": "binary"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "BAD_REQUEST",
                        "content": {
                            "application/pdf": {
                                "schema": {
                                    "type": "string",
                                    "format": "binary"
                                },
                                "examples": {
                                    "Failure response 1": {
                                        "value": {
                                            "id": null,
                                            "version": "v1",
                                            "str": null,
                                            "responsetime": "2022-10-31T05:07:34.789Z",
                                            "metadata": null,
                                            "response": null,
                                            "errors": [
                                                {
                                                    "errorCode": "RESIDENT-APP-036",
                                                    "errorMessage": "Invalid Credential Type Id"
                                                }
                                            ]
                                        }
                                    },
                                    "Failure response 2": {
                                        "value": {
                                            "id": null,
                                            "version": "v1",
                                            "str": null,
                                            "responsetime": "2022-10-31T05:07:34.789Z",
                                            "metadata": null,
                                            "response": null,
                                            "errors": [
                                                {
                                                    "errorCode": "RESIDENT-APP-026",
                                                    "errorMessage": "Api not accessible failure"
                                                }
                                            ]
                                        }
                                    },
                                    "Failure response 3": {
                                        "value": {
                                            "id": null,
                                            "version": "v1",
                                            "str": null,
                                            "responsetime": "2022-10-31T05:07:34.789Z",
                                            "metadata": null,
                                            "response": null,
                                            "errors": [
                                                {
                                                    "errorCode": "RESIDENT-APP-028",
                                                    "errorMessage": "error occured while signing pdf"
                                                }
                                            ]
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "summary": "Download Credential As PDF",
                "x-stoplight": {
                    "id": "42bjevdfa0stx"
                }
            }
        },
        "/authorize": {
            "get": {
                "summary": "Authorize Verifiable Presentation",
                "tags": [
                    "Authorize the Verifiable Presentation"
                ],
                "responses": {
                    "302": {
                        "description": "Found\n\n**Success Case :**\n\n```json\n\n{redirectUri}#vp_token={base64_encoded_vpToken}&presentation_submission={url_encoded_presentation_submission}\n\n```\n**Error Case :** \n\n```json\n\n{redirectUri}?error={error_codes}&error_messages={error_messages}\n\n```\n\n\n**Possible Error Codes and Error Messages :**\n\n- **invalid_request** - \"Some incorrect parameters in the request\"\n- **unsupported_format** - \"No VC of this format is found\"\n- **resource_not_found** - \"The requested resource doesn’t exist.\"\n- **server_unavailable** - \"The server is not reachable right now.\"\n- **resource_expired** - \"The requested resource expired.\"\n- **resource_invalid** - \"The requested resource is invalid.\"\n- **request_timed_out** - \"We are unable to process your request right now\"\n- **uri_too_long** - \"Resource URI is too long to be handled\"\n- **invalid_client** - \"The requested client doesn’t match.\"\n- **invalid_redirect_uri** - \"The requested redirect URI doesn’t match.\"\n- **internal_server_error** - \"We are unable to process request now\"\n\n"
                    }
                },
                "operationId": "get-v1-mimoto-authorize",
                "x-stoplight": {
                    "id": "x4k8ruhin2f09"
                },
                "parameters": [
                    {
                        "schema": {
                            "type": "string",
                            "default": "vp_token"
                        },
                        "in": "query",
                        "name": "response_type",
                        "description": "Response Type of the authorization"
                    },
                    {
                        "schema": {
                            "type": "string"
                        },
                        "in": "query",
                        "name": "resource",
                        "description": "Credential Resource url"
                    },
                    {
                        "schema": {
                            "type": "string"
                        },
                        "in": "query",
                        "name": "presentation_definition",
                        "description": "URL Encoded Value of the presentation Definition"
                    },
                    {
                        "schema": {
                            "type": "string"
                        },
                        "in": "query",
                        "name": "client_id",
                        "description": "Client ID of the registered verifier"
                    },
                    {
                        "schema": {
                            "type": "string"
                        },
                        "in": "query",
                        "name": "redirect_uri",
                        "description": "One of the Redirect uri of the registered verifiers"
                    }
                ]
            }
        },
        "/users/me": {
            "get": {
                "tags": [
                    "Users"
                ],
                "summary": "Retrieve user metadata",
                "description": "First attempts to retrieve user metadata from the session cache. If not available, fetches from the database. This API is secured using session-based authentication.",
                "operationId": "getUserProfile",
                "security": [
                    {
                        "SessionAuth": []
                    }
                ],
                "responses": {
                    "200": {
                        "description": "User profile retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UserMetadataDTO"
                                },
                                "examples": {
                                    "Success response from DB": {
                                        "value": {
                                            "displayName": "John Doe",
                                            "profilePictureUrl": "https://example.com/profile.jpg",
                                            "email": "john.doe@example.com"
                                        }
                                    },
                                    "Success response from cache": {
                                        "value": {
                                            "displayName": "John Doe",
                                            "profilePictureUrl": "john.doe@example.com",
                                            "email": "john.doe@example.com",
                                            "walletId": "123e4567-e89b-12d3-a456-426614174000"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "User data not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "User data not available in DB" : {
                                        "value": {
                                            "errorCode": "unauthorized",
                                            "errorMessage": "User not found. Please check your credentials or login again"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "Unexpected Server Error": {
                                        "value": {
                                            "errorCode": "internal_server_error",
                                            "errorMessage": "We are unable to process request now"
                                        }
                                    },
                                    "Decryption Error": {
                                        "value": {
                                            "errorCode": "internal_server_error",
                                            "errorMessage": "Failed to process user data"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "503": {
                        "description": "Service unavailable",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "Database connection failure": {
                                        "value": {
                                            "errorCode": "database_unavailable",
                                            "errorMessage": "Failed to connect to the database"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/wallets/{walletId}/credentials": {
            "post": {
                "tags": [
                    "Wallet Credentials"
                ],
                "summary": "Download and store a Verifiable Credential under a specific Wallet",
                "description": "This API is secured using session-based authentication. Upon receiving a request, the session ID is extracted from the Cookie header and used to retrieve session details from Redis for authentication. It then retrieves the wallet key from the session and use it to decrypt the signing algorithm's secret key(which is used for signing the JWT in credential request) and encrypt the downloaded Verifiable Credential. If the process completes successfully, the credential is stored in the database and certain fields will be returned in the response. In case of any issues, an appropriate error response is returned.",
                "operationId": "downloadCredential",
                "security": [
                    {
                        "SessionAuth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "walletId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Unique identifier of the user's wallet where the credential will be stored"
                    },
                    {
                        "name": "Accept-Language",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "default": "en"
                        },
                        "description": "Locale is used to determine the language in which credential's issuer display details should be stored. Input should be a 2-letter code (e.g., 'en' for English, 'fr' for French). If not provided, defaults to 'en'."
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/VerifiableCredentialRequestDTO"
                            },
                            "examples": {
                                "Default download": {
                                    "value": {
                                        "issuer": "Mosip",
                                        "credentialConfigurationId": "MosipVerifiableCredential",
                                        "code": "abc123",
                                        "grant_type": "authorization_code",
                                        "redirectUri": "https://example.com/redirect",
                                        "codeVerifier": "xyz-secret-verifier"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Verifiable Credential downloaded and stored successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/VerifiableCredentialResponseDTO"
                                },
                                "examples": {
                                    "Success response": {
                                        "value": {
                                            "issuerDisplayName": "Mosip",
                                            "issuerLogo": "https://example.com/logo.png",
                                            "credentialTypeDisplayName": "National Identity Department Mosip",
                                            "credentialTypeLogo": "https://example.com/credential-logo.png",
                                            "credentialId": "1234567890"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request - Wallet key is null / blank or Wallet ID is null / blank / mismatch with session Wallet ID or required params are missing / invalid or any invalid request data",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "Wallet ID is null or blank": {
                                        "value": {
                                            "errorCode": "invalid_request",
                                            "errorMessage": "Wallet ID cannot be blank"
                                        }
                                    },
                                    "Invalid Accept-Language header": {
                                        "value": {
                                            "errorCode": "invalid_request",
                                            "errorMessage": "Locale must be a 2-letter code"
                                        }
                                    },
                                    "Invalid Wallet ID": {
                                        "value": {
                                            "errorCode": "invalid_request",
                                            "errorMessage": "Invalid Wallet ID. Session and request Wallet ID do not match"
                                        }
                                    },
                                    "Wallet ID not found in session": {
                                        "value": {
                                            "errorCode": "wallet_locked",
                                            "errorMessage": "Wallet is locked"
                                        }
                                    },
                                    "Wallet key not found in session" : {
                                        "value": {
                                            "errorCode": "invalid_request",
                                            "errorMessage": "Wallet key not found in session"
                                        }
                                    },
                                    "Invalid issuer": {
                                        "value": {
                                            "errorCode": "invalid_request",
                                            "errorMessage": "issuerId cannot be blank"
                                        }
                                    },
                                    "Invalid credentialConfigurationId": {
                                        "value": {
                                            "errorCode": "invalid_request",
                                            "errorMessage": "credentialConfigurationId cannot be blank"
                                        }
                                    },
                                    "Invalid code": {
                                        "value": {
                                            "errorCode": "invalid_request",
                                            "errorMessage": "code cannot be blank"
                                        }
                                    },
                                    "Invalid grantType": {
                                        "value": {
                                            "errorCode": "invalid_request",
                                            "errorMessage": "grantType cannot be blank"
                                        }
                                    },
                                    "Invalid redirectUri": {
                                        "value": {
                                            "errorCode": "invalid_request",
                                            "errorMessage": "redirectUri cannot be blank"
                                        }
                                    },
                                    "Invalid codeVerifier": {
                                        "value": {
                                            "errorCode": "invalid_request",
                                            "errorMessage": "codeVerifier cannot be blank"
                                        }
                                    },
                                    "Credential already exists for given Issuer and Credential Type in the wallet": {
                                        "value": {
                                            "errorCode": "credential_download_error",
                                            "errorMessage": "Duplicate credential for issuer and type"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error - along with below examples it will return this status code when error occurred while serializing the VC response or unable to store the response in data share or unable to encrypt the credential",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "Exception occurred while fetching Issuer config": {
                                        "value": {
                                            "errorCode": "credential_download_error",
                                            "errorMessage": "Unable to fetch issuer configuration"
                                        }
                                    },
                                    "Failed to generate VC Credential request": {
                                        "value": {
                                            "errorCode": "credential_download_error",
                                            "errorMessage": "Unable to generate credential request"
                                        }
                                    },
                                    "Signature verification failed for downloaded Credential": {
                                        "value": {
                                            "errorCode": "internal_server_error",
                                            "errorMessage": "We are unable to process request now"
                                        }
                                    },
                                    "Unexpected Server Error": {
                                        "value": {
                                            "errorCode": "internal_server_error",
                                            "errorMessage": "We are unable to process request now"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "503": {
                        "description": "Service unavailable - along with below examples it will return this status code when any error occurred while fetching Issuer wellknown or Auth Server wellknown",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "API is not accessible": {
                                        "value": {
                                            "errorCode": "credential_download_error",
                                            "errorMessage": "Failed to download and store the credential"
                                        }
                                    },
                                    "Failed to download credential from Issuer": {
                                        "value": {
                                            "errorCode": "server_unavailable",
                                            "errorMessage": "Unable to download credential from issuer"
                                        }
                                    },
                                    "Database connection failure": {
                                        "value": {
                                            "errorCode": "database_unavailable",
                                            "errorMessage": "Failed to connect to the database"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "get": {
                "tags": [
                    "Wallet Credentials"
                ],
                "summary": "Fetch all credentials for the given wallet",
                "description": "This API is secured using session-based authentication. When a request is made, the session ID is extracted from the Cookie header and used to fetch session details from Redis for authentication. It then retrieves the wallet key from the session and uses it to decrypt all stored Verifiable Credentials for the given wallet. If successful, it returns a list of credentials otherwise an appropriate error is returned.",
                "operationId": "fetchAllCredentialsForWallet",
                "security": [
                    {
                        "SessionAuth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "walletId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Unique identifier of the user's wallet from where the credential will be fetched"
                    },
                    {
                        "name": "Accept-Language",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "default": "en"
                        },
                        "description": "Language preference in which the user expects the Verifiable Credential to be rendered. Input should be a 2-letter code (e.g., 'en' for English, 'fr' for French). If not provided, defaults to 'en'."
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Credentials retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/VerifiableCredentialResponseDTO"
                                    }
                                },
                                "examples": {
                                    "Success response": {
                                        "value": [
                                            {
                                                "issuerDisplayName": "Mosip",
                                                "issuerLogo": "https://example.com/logo.png",
                                                "credentialTypeDisplayName": "National Identity Department Mosip",
                                                "credentialTypeLogo": "https://example.com/credential-logo.png",
                                                "credentialId": "1234567890"
                                            }
                                        ]
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "Invalid Wallet Id": {
                                        "value": {
                                            "errorCode": "invalid_request",
                                            "errorMessage": "Invalid Wallet ID. Session and request Wallet ID do not match"
                                        }
                                    },
                                    "Wallet ID is not available in session" : {
                                        "value": {
                                            "errorCode": "wallet_locked",
                                            "errorMessage": "Wallet is locked"
                                        }
                                    },
                                    "Wallet key not found in session": {
                                        "value": {
                                            "errorCode": "invalid_request",
                                            "errorMessage": "Wallet key not found in session"
                                        }
                                    },
                                    "Invalid Accept-Language header": {
                                        "value": {
                                            "errorCode": "invalid_request",
                                            "errorMessage": "Locale must be a 2-letter code"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "Unexpected Server Error": {
                                        "value": {
                                            "errorCode": "internal_server_error",
                                            "errorMessage": "We are unable to process request now"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "503": {
                        "description": "Service unavailable",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "Database connection failure": {
                                        "value": {
                                            "errorCode": "database_unavailable",
                                            "errorMessage": "Failed to connect to the database"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/wallets/{walletId}/credentials/{credentialId}": {
            "get": {
                "tags": [
                    "Wallet Credentials"
                ],
                "summary": "Fetch a Verifiable Credential by ID to either preview it or download it based on the requirement",
                "description": "This API is protected using session-based authentication. When a request is received, the session ID is extracted from the Cookie header and used to fetch session data from Redis for user authentication. Upon successful authentication, the wallet key is retrieved from the session and used to decrypt the credential data obtained from the database.\n\nThe API retrieves a specific Verifiable Credential based on the provided wallet ID and credential ID. Depending on the action query parameter (inline or download) received in the request, the Content-Disposition header in the response is adjusted to either display the credential in the browser or prompt a file download. On success, the API returns the credential as a PDF byte stream. In case of any errors, an appropriate error response is returned.",
                "operationId": "fetchVerifiableCredentialById",
                "security": [
                    {
                        "SessionAuth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "walletId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Unique identifier of the user's wallet"
                    },
                    {
                        "name": "credentialId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Unique identifier of the Verifiable Credential to be retrieved"
                    },
                    {
                        "name": "action",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "default": "inline"
                        },
                        "description": "Controls how the credential should be displayed. If it is sent as download, the response will include a header to download the file. For any other value or if not provided, it defaults to inline to preview the file in the browser."
                    },
                    {
                        "name": "Accept-Language",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "default": "en"
                        },
                        "description": "Language preference in which the user expects the Verifiable Credential to be rendered. Input should be a 2-letter code (e.g., 'en' for English, 'fr' for French). If not provided, defaults to 'en'."
                    },
                    {
                        "name": "Accept",
                        "in": "header",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "application/pdf"
                        },
                        "description": "The Accept header must be set to application/pdf to indicate that the response should be in PDF format. If not provided or set to a different value, the API will return a 400 Bad Request error."
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Verifiable Credential fetched successfully",
                        "headers": {
                            "Content-Disposition": {
                                "description": "Indicates if the verifiable credential is displayed inline or downloaded",
                                "schema": {
                                    "type": "string",
                                    "example": "inline; filename=\"credential.pdf\""
                                }
                            }
                        },
                        "content": {
                            "application/pdf": {
                                "schema": {
                                    "type": "string",
                                    "format": "binary"
                                },
                                "examples": {
                                    "Success response": {
                                        "value": "PDF content in Binary Format"
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "Invalid Wallet Id": {
                                        "value": {
                                            "errorCode": "invalid_request",
                                            "errorMessage": "Invalid Wallet ID. Session and request Wallet ID do not match"
                                        }
                                    },
                                    "Wallet ID is not available in session" : {
                                        "value": {
                                            "errorCode": "wallet_locked",
                                            "errorMessage": "Wallet is locked"
                                        }
                                    },
                                    "Wallet key not found in session": {
                                        "value": {
                                            "errorCode": "invalid_request",
                                            "errorMessage": "Wallet key not found in session"
                                        }
                                    },
                                    "Invalid Accept-Language header": {
                                        "value": {
                                            "errorCode": "invalid_request",
                                            "errorMessage": "Locale must be a 2-letter code"
                                        }
                                    },
                                    "Invalid Accept header" : {
                                        "value": {
                                            "errorCode": "invalid_request",
                                            "errorMessage": "Accept header must be application/pdf"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Not Found - Credential not found for given Wallet ID and Credential ID",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "No credentials found for the given Credential ID and Wallet ID": {
                                        "value": {
                                            "errorCode": "resource_not_found",
                                            "errorMessage": "The requested resource doesn’t exist."
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "Failed to decrypt the Credential": {
                                        "value": {
                                            "errorCode": "credential_fetch_error",
                                            "errorMessage": "Decryption failed"
                                        }
                                    },
                                    "Credential Type is invalid": {
                                        "value": {
                                            "errorCode": "credential_fetch_error",
                                            "errorMessage": "Invalid credential type configuration"
                                        }
                                    },
                                    "Exception occurred while fetching Issuer config": {
                                        "value": {
                                            "errorCode": "credential_download_error",
                                            "errorMessage": "Unable to fetch issuer configuration"
                                        }
                                    },
                                    "Exception occurred when generating PDF": {
                                        "value": {
                                            "errorCode": "credential_download_error",
                                            "errorMessage": "Failed to generate credential PDF"
                                        }
                                    },
                                    "Unexpected Server Error": {
                                        "value": {
                                            "errorCode": "internal_server_error",
                                            "errorMessage": "We are unable to process request now"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "503": {
                        "description": "Service unavailable",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "Database connection failure": {
                                        "value": {
                                            "errorCode": "database_unavailable",
                                            "errorMessage": "Failed to connect to the database"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "tags": [
                    "Wallet Credentials"
                ],
                "summary": "Delete a credential from a wallet",
                "description": "This endpoint allows you to delete a specific credential from a wallet. The API is secured using session-based authentication. The session ID is extracted from the Cookie header to authenticate the user. The wallet ID is validated against the session to ensure the user has access to the wallet. If the credential is successfully deleted, a 200 OK response is returned.",
                "operationId": "deleteCredential",
                "security": [
                    {
                        "SessionAuth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "walletId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Unique identifier of the wallet containing the credential"
                    },
                    {
                        "name": "credentialId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Unique identifier of the credential to be deleted"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Credential successfully deleted"
                    },
                    "400": {
                        "description": "Provided request is invalid",
                        "content": {
                          "application/json": {
                              "schema": {
                                "$ref": "#/components/schemas/Error"
                              },
                              "examples": {
                                "Invalid Wallet Id": {
                                  "value": {
                                    "errorCode": "invalid_request",
                                    "errorMessage": "Invalid Wallet ID. Session and request Wallet ID do not match"
                                  }
                                },
                                "Wallet ID is not available in session" : {
                                  "value": {
                                    "errorCode": "wallet_locked",
                                    "errorMessage": "Wallet is locked"
                                  }
                                }
                              }
                          }
                        }
                    },
                    "404": {
                        "description": "Credential not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "Credential not found": {
                                        "value": {
                                            "errorCode": "resource_not_found",
                                            "errorMessage": "The requested resource doesn’t exist."
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "Unexpected Server Error": {
                                        "value": {
                                            "errorCode": "internal_server_error",
                                            "errorMessage": "We are unable to process request now"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/wallets": {
            "post": {
                "tags": [
                    "Wallets"
                ],
                "summary": "Create a new wallet",
                "description": "This API is secured using session-based authentication. The session ID is extracted from the Cookie header and used to retrieve session details from Redis for authentication. The user ID is then obtained from the session and along with the provided wallet name and PIN is used to create a new wallet in the database. If the wallet is created successfully, response including unique identifier of the wallet and and the provided name is returned otherwise an appropriate error response is provided.",
                "operationId": "createWallet",
                "security": [
                    {
                        "SessionAuth": []
                    }
                ],
                "requestBody": {
                    "required": true,
                    "description": "Wallet creation request containing the wallet name and wallet PIN",
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/CreateWalletRequestDto"
                            },
                            "examples": {
                                "Create wallet request": {
                                    "value": {
                                        "walletPin": "1234",
                                        "confirmWalletPin": "1234",
                                        "walletName": "My Personal Wallet"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Wallet created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/WalletResponseDTO"
                                },
                                "examples": {
                                    "Success response": {
                                        "value": {
                                            "walletId": "123e4567-e89b-12d3-a456-426614174000",
                                            "walletName": "My Personal Wallet"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid wallet creation request",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "Invalid User ID": {
                                        "value": {
                                            "errorCode": "invalid_request",
                                            "errorMessage": "User ID cannot be null or empty"
                                        }
                                    },
                                    "Invalid Wallet name": {
                                        "value": {
                                            "errorCode": "invalid_request",
                                            "errorMessage": "Wallet name must be alphanumeric with allowed special characters"
                                        }
                                    },
                                    "Invalid Wallet PIN": {
                                        "value": {
                                            "errorCode": "invalid_request",
                                            "errorMessage": "PIN must be numeric with 6 digits"
                                        }
                                    },
                                    "Entered Pin and Confirm Pin Mismatch": {
                                        "value": {
                                            "errorCode": "invalid_request",
                                            "errorMessage": "Entered PIN and Confirm PIN do not match"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized user creating a wallet",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "User ID is not present in session": {
                                        "value": {
                                            "errorCode": "unauthorized",
                                            "errorMessage": "User ID not found in session"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error while creating Wallet - error occurred while generating Wallet key or encrypting it with Wallet PIN",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "Unexpected Server Error": {
                                        "value": {
                                            "errorCode": "internal_server_error",
                                            "errorMessage": "We are unable to process request now"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "503": {
                        "description": "Service unavailable",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "Database connection failure": {
                                        "value": {
                                            "errorCode": "database_unavailable",
                                            "errorMessage": "Failed to connect to the database"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "get": {
                "tags": [
                    "Wallets"
                ],
                "summary": "Retrieve all wallets for the user",
                "description": "This API is secured using session-based authentication. Upon receiving a request, the session is first retrieved using the session ID extracted from the Cookie header to authenticate the user. Once authenticated, the user's ID is obtained from the session stored in Redis. Using this user ID, the API fetches all wallets associated with the user from the database and returns them. If an error occurs while retrieving the wallets, an appropriate error response is returned.",
                "operationId": "getWallets",
                "security": [
                    {
                        "SessionAuth": []
                    }
                ],
                "responses": {
                    "200": {
                        "description": "List of wallets retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/WalletDetailsResponseDto"
                                    }
                                },
                                "examples": {
                                    "Success response": {
                                        "value": [
                                            {
                                                "walletId": "123e4567-e89b-12d3-a456-426614174000",
                                                "walletName": "My Personal Wallet",
                                                "walletStatus": null
                                            },
                                            {
                                                "walletId": "223e4567-e89b-12d3-a456-426614174001",
                                                "walletName": "Wallet Main",
                                                "walletStatus": "temporarily_locked"
                                            }
                                        ]
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid Wallets fetching request",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "Invalid User ID": {
                                        "value": {
                                            "errorCode": "invalid_request",
                                            "errorMessage": "User ID cannot be null or empty"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized user fetching wallets",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "User ID is not present in session": {
                                        "value": {
                                            "errorCode": "unauthorized",
                                            "errorMessage": "User ID not found in session"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "Unexpected Server Error": {
                                        "value": {
                                            "errorCode": "internal_server_error",
                                            "errorMessage": "We are unable to process request now"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "503": {
                        "description": "Service unavailable",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "Database connection failure": {
                                        "value": {
                                            "errorCode": "database_unavailable",
                                            "errorMessage": "Failed to connect to the database"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/wallets/{walletId}": {
            "delete": {
                "tags": [
                    "Wallets"
                ],
                "summary": "Delete a Wallet",
                "description": "This endpoint allows you to delete a specific wallet. The API is secured using session-based authentication. The session ID is extracted from the Cookie header to authenticate the user. The user's ID is obtained from the session and used to validate ownership of the Wallet before deletion. If the Wallet is successfully deleted, a 200 OK response is returned; otherwise, an appropriate error response is returned.",
                "operationId": "deleteWallet",
                "security": [
                    {
                        "SessionAuth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "walletId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Unique identifier of the Wallet to be deleted"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Wallet successfully deleted"
                    },
                    "401": {
                        "description": "Unauthorized user deleting a Wallet",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "User ID not found in session": {
                                        "value": {
                                            "errorCode": "unauthorized",
                                            "errorMessage": "User ID not found in session"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid wallet deletion request",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "Invalid User ID": {
                                        "value": {
                                            "errorCode": "invalid_request",
                                            "errorMessage": "User ID cannot be null or empty"
                                        }
                                    },
                                    "Invalid Wallet ID": {
                                        "value": {
                                            "errorCode": "invalid_request",
                                            "errorMessage": "Invalid Wallet ID. Session and request Wallet ID do not match"
                                        }
                                    },
                                    "Wallet ID not found in session": {
                                        "value": {
                                            "errorCode": "wallet_locked",
                                            "errorMessage": "Wallet is locked"
                                        }
                                    },
                                    "Wallet not found in database": {
                                        "value": {
                                            "errorCode": "invalid_request",
                                            "errorMessage": "Wallet not found"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "Unexpected Server Error": {
                                        "value": {
                                            "errorCode": "internal_server_error",
                                            "errorMessage": "We are unable to process request now"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/wallets/{walletId}/unlock": {
            "post": {
                "tags": [
                    "Wallets"
                ],
                "summary": "Unlock an existing Wallet",
                "description": "This API is secured using session-based authentication. Upon receiving a request, the session is first retrieved using the session ID extracted from the Cookie header to authenticate the user. Once authenticated, the user's ID is obtained from the session stored in Redis. Using this user ID along with the provided wallet ID and PIN, the corresponding wallet key is fetched and stored in the session. If successful then the API returns a response containing the wallet ID otherwise an appropriate error response is returned.",
                "operationId": "unlockWallet",
                "security": [
                    {
                        "SessionAuth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "walletId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        },
                        "description": "Unique identifier of the wallet to be unlocked",
                        "example": "123e4567-e89b-12d3-a456-426614174000"
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/UnlockWalletRequestDto"
                            },
                            "examples": {
                                "Unlock wallet request": {
                                    "value": {
                                        "walletPin": "1234"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Wallet unlocked successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/WalletResponseDto"
                                },
                                "examples": {
                                    "Success response": {
                                        "value": {
                                            "walletId": "123e4567-e89b-12d3-a456-426614174000",
                                            "walletName": "My Personal Wallet"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid Wallet unlock request",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "Wallet not found": {
                                        "value": {
                                            "errorCode": "invalid_request",
                                            "errorMessage": "Wallet not found"
                                        }
                                    },
                                    "Invalid User ID": {
                                        "value": {
                                            "errorCode": "invalid_request",
                                            "errorMessage": "User ID cannot be null or empty"
                                        }
                                    },
                                    "Invalid Wallet PIN": {
                                        "value": {
                                            "errorCode": "invalid_request",
                                            "errorMessage": "PIN must be numeric with 6 digits"
                                        }
                                    },
                                    "Incorrect Wallet PIN": {
                                        "value": {
                                            "errorCode": "invalid_pin",
                                            "errorMessage": "Invalid PIN or wallet key provided"
                                        }
                                    },
                                    "Only one attempt left to unlock Wallet before Permanent Lockout": {
                                        "value": {
                                            "errorCode": "last_attempt_before_lockout",
                                            "errorMessage": "Incorrect passcode. Last attempt remaining before your Wallet is permanently locked"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized user unlocking wallet",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "User ID is not present in session": {
                                        "value": {
                                            "errorCode": "unauthorized",
                                            "errorMessage": "User ID not found in session"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "423": {
                        "description": "Wallet is locked temporarily or permanently",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "Wallet is locked Temporarily": {
                                        "value": {
                                            "errorCode": "temporarily_locked",
                                            "errorMessage": "You’ve reached the maximum number of attempts. Your wallet is now temporarily locked"
                                        }
                                    },
                                    "Wallet is locked Permanently": {
                                        "value": {
                                            "errorCode": "permanently_locked",
                                            "errorMessage": "Your wallet has been permanently locked due to multiple failed attempts. Please click on forgot password to reset your wallet to continue"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error - any error occurred while decrypting the Wallet key with Wallet PIN or when fetching Wallet details from the database",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "Unexpected Server Error": {
                                        "value": {
                                            "errorCode": "internal_server_error",
                                            "errorMessage": "We are unable to process request now"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "503": {
                        "description": "Service unavailable",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "Database connection failure": {
                                        "value": {
                                            "errorCode": "database_unavailable",
                                            "errorMessage": "Failed to connect to the database"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/wallets/{walletId}/presentations": {
            "post": {
                "tags": [
                    "Wallet OpenID4VP"
                ],
                "summary": "Processes Verifiable Presentation Authorization Request and provides details about the verifier and presentation.",
                "description": "This API is secured using session-based authentication. Upon receiving a request, the session is first retrieved using the session ID extracted from the Cookie header to authenticate the user. Once authenticated, the API processes the received Verifiable Presentation Authorization Request from the Verifier for a specific wallet. It validates the session, verifies the authenticity of the request, and checks if the Verifier is pre-registered and trusted by the wallet. If all validations pass, the API returns a response containing the presentation details; otherwise, an appropriate error response is returned.",
                "operationId": "processVPAuthorizationRequest",
                "parameters": [
                    {
                        "name": "walletId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        },
                        "description": "The unique identifier of the Wallet."
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/VerifiablePresentationAuthorizationRequest"
                            },
                            "examples": {
                                "Verifier Verifiable Presentation Authorization Request": {
                                    "value": {
                                        "authorizationRequestUrl": "client_id=mock-client&presentation_definition_uri=https%3A%2F%2Finji-verify.collab.mosip.net%2Fverifier%2Fpresentation_definition_uri&response_type=vp_token&response_mode=direct_post&nonce=NHgLcWlae745DpfJbUyfdg%253D%253D&response_uri=https%3A%2F%2Finji-verify.collab.mosip.net%2Fverifier%2Fvp-response&state=pcmxBfvdPEcjFObgt%252BLekA%253D%253D"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successfully processed the Verifiable Presentation Authorization Request.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/VerifiablePresentationResponseDTO"
                                },
                                "examples": {
                                    "Success response": {
                                        "value": {
                                            "presentationId": "123e4567-e89b-12d3-a456-426614174000",
                                            "verifier": {
                                                "id": "mock-client",
                                                "name": "Requester name",
                                                "logo": "https://api.collab.mosip.net/inji/verifier-logo.png",
                                                "isTrusted": true,
                                                "isPreregisteredWithWallet": true,
                                                "redirectUri": "https://injiverify.collab.mosip.net/redirect"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid request or missing required parameters.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "response_type is missing in Authorization request": {
                                        "value": {
                                            "errorCode": "invalid_request",
                                            "errorMessage": "Missing Input: response_type param is required"
                                        }
                                    },
                                    "Invalid Wallet ID": {
                                        "value": {
                                            "errorCode": "invalid_request",
                                            "errorMessage": "Invalid Wallet ID. Session and request Wallet ID do not match"
                                        }
                                    },
                                    "Wallet ID not found in session": {
                                        "value": {
                                            "errorCode": "wallet_locked",
                                            "errorMessage": "Wallet is locked"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized user performing the Verifiable Presentation flow",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "User ID is not present in session": {
                                        "value": {
                                            "errorCode": "unauthorized",
                                            "errorMessage": "User ID not found in session"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "Failed to fetch pre-registered trusted verifiers": {
                                        "value": {
                                            "errorCode": "RESIDENT-APP-026",
                                            "errorMessage": "Api not accessible failure"
                                        }
                                    },
                                    "Unexpected Server Error": {
                                        "value": {
                                            "errorCode": "internal_server_error",
                                            "errorMessage": "We are unable to process request now"
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "SessionAuth": []
                    }
                ]
            },
            "patch": {
                "tags": [
                    "Wallet OpenID4VP"
                ],
                "summary": "Handles user submission or rejection of a presentation",
                "description": "This API allows users to accept or reject a presentation request by selecting specific credentials. Upon acceptance, the system fetches the selected credentials, constructs and signs a VP token, shares it with the verifier, and stores the presentation record in the database.",
                "operationId": "handlePresentationSubmission",
                "parameters": [
                    {
                        "name": "walletId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        },
                        "description": "The unique identifier of the Wallet."
                    },
                    {
                        "name": "presentationId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        },
                        "description": "The unique identifier of the Presentation."
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/PresentationSubmissionRequestDTO"
                            },
                            "examples": {
                                "Presentation Submission Request": {
                                    "value": {
                                        "selectedCredentials": ["cred-123", "cred-456"]
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successfully processed the presentation submission.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/PresentationSubmissionResponseDTO"
                                },
                                "examples": {
                                    "Success response": {
                                        "value": {
                                            "presentationId": "123e4567-e89b-12d3-a456-426614174000",
                                            "status": "success",
                                            "message": "Presentation submitted successfully"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid request or missing required parameters.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "Invalid Wallet ID": {
                                        "value": {
                                            "errorCode": "invalid_request",
                                            "errorMessage": "Invalid Wallet ID. Session and request Wallet ID do not match"
                                        }
                                    },
                                    "Wallet ID not found in session": {
                                        "value": {
                                            "errorCode": "wallet_locked",
                                            "errorMessage": "Wallet is locked"
                                        }
                                    },
                                    "Credential not found": {
                                        "value": {
                                            "errorCode": "invalid_request",
                                            "errorMessage": "Credential not found: cred-123"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized user performing the presentation submission",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "User ID is not present in session": {
                                        "value": {
                                            "errorCode": "unauthorized",
                                            "errorMessage": "User ID not found in session"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "Failed to process presentation submission": {
                                        "value": {
                                            "errorCode": "WALLET_CREATE_VP_EXCEPTION",
                                            "errorMessage": "Failed to process presentation submission: Error message"
                                        }
                                    },
                                    "Unexpected Server Error": {
                                        "value": {
                                            "errorCode": "internal_server_error",
                                            "errorMessage": "We are unable to process request now"
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "SessionAuth": []
                    }
                ]
            }
        },
        "/wallets/{walletId}/presentations/{presentationId}/credentials": {
            "get": {
                "tags": [
                    "Wallet OpenID4VP"
                ],
                "summary": "Get matching credentials for a presentation request",
                "description": "This API retrieves credentials from the wallet that match the presentation definition requirements. It returns available credentials that can satisfy the presentation request along with any missing claims that are required but not available.",
                "operationId": "getMatchingCredentials",
                "parameters": [
                    {
                        "name": "walletId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        },
                        "description": "The unique identifier of the Wallet."
                    },
                    {
                        "name": "presentationId",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        },
                        "description": "The unique identifier of the Presentation."
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successfully retrieved matching credentials.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/MatchingCredentialsResponseDTO"
                                },
                                "examples": {
                                    "Success response": {
                                        "value": {
                                            "availableCredentials": [
                                                {
                                                    "credentialId": "cred-123",
                                                    "credentialTypeDisplayName": "Mock Verifiable Credential (SD-JWT)",
                                                    "credentialTypeLogo": "https://mosip.github.io/inji-config/logos/mosipid-logo.png",
                                                    "type": ["IDCredential"],
                                                    "claims": {
                                                        "birthdate": "1990-01-01"
                                                    }
                                                }
                                            ],
                                            "missingClaims": []
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid request or missing required parameters.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "Invalid Wallet ID": {
                                        "value": {
                                            "errorCode": "invalid_request",
                                            "errorMessage": "Invalid Wallet ID. Session and request Wallet ID do not match"
                                        }
                                    },
                                    "Presentation not found": {
                                        "value": {
                                            "errorCode": "invalid_request",
                                            "errorMessage": "Presentation not found in session"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized user performing the Verifiable Presentation flow",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "User ID is not present in session": {
                                        "value": {
                                            "errorCode": "unauthorized",
                                            "errorMessage": "User ID not found in session"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "Unexpected Server Error": {
                                        "value": {
                                            "errorCode": "internal_server_error",
                                            "errorMessage": "We are unable to process request now"
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "SessionAuth": []
                    }
                ]
            }
        },
        "/auth/{provider}/token-login": {
            "post": {
                "tags": ["OAuth2 Authentication"],
                "summary": "Login and create session using OAuth2 ID token",
                "description": "This API accepts an OAuth2 ID token in the Authorization header and establishes a session by populating Spring Security context.\n\nFetch the ID token from a supported OAuth2 provider (such as Google or Microsoft) and provide it in the request as a Bearer token.",
                "operationId": "loginWithOAuth2IdToken",
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "parameters": [
                    {
                        "name": "provider",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "google"
                        },
                        "description": "The OAuth2 provider to use for login. Example values: 'google', 'microsoft', 'facebook'."
                    },
                    {
                        "name": "Authorization",
                        "in": "header",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "Bearer <id-token>"
                        },
                        "description": "The OAuth2 ID token that must be provided in the 'Authorization' header, prefixed with 'Bearer '."
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successfully logged in and session created",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "string",
                                    "description": "Success message indicating that the session has been created"
                                },
                                "examples": {
                                    "Success response": {
                                        "value": "Session created."
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad Request - Missing/invalid header or unsupported provider.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Error"
                                },
                                "examples": {
                                    "UnsupportedProvider": {
                                        "value": {
                                            "errorCode": "INVALID_REQUEST",
                                            "errorMessage": "Unsupported provider: provider123"
                                        }
                                    },
                                    "MissingToken": {
                                        "value": {
                                            "errorCode": "INVALID_REQUEST",
                                            "errorMessage": "Bearer ID token required."
                                        }
                                    },
                                    "InvalidToken": {
                                        "value": {
                                            "errorCode": "invalid_token",
                                            "errorMessage": "An error occurred while attempting to decode the Jwt: Signed JWT rejected: Invalid signature"
                                        }
                                    },
                                    "ExpiredToken": {
                                        "value": {
                                            "errorCode": "invalid_token",
                                            "errorMessage": "An error occurred while attempting to decode the Jwt: Jwt expired at 2025-06-10T12:00:00Z"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "components": {
        "securitySchemes": {
            "SessionAuth": {
                "type": "apiKey",
                "in": "cookie",
                "name": "SESSION",
                "description": "Session-based authentication using a session ID stored in the cookie. The client must send the 'SESSION' cookie (e.g., SESSION=<session-id>) with each request."
            },
            "bearerAuth": {
                "type": "http",
                "scheme": "bearer",
                "bearerFormat": "JWT",
                "description": "JWT-based authentication. Use a valid OAuth2 ID token (e.g., from Google or Microsoft) in the Authorization header as a Bearer token. Example: 'Authorization: Bearer eyJhbGciOi...'. This token will be used to authenticate the user and establish a session."
            }
        },
        "schemas": {
            "UserMetadataDTO": {
                "type": "object",
                "properties": {
                    "display_name": {
                        "type": "string",
                        "description": "The display name of the user provided by the Identity Provider"
                    },
                    "profile_picture_url": {
                        "type": "string",
                        "format": "uri",
                        "description": "The URL of the user's profile picture provided by the Identity Provider"
                    },
                    "email": {
                        "type": "string",
                        "format": "email",
                        "description": "The email address of the user provided by the Identity Provider"
                    },
                    "walletId": {
                        "type": "string",
                        "format": "email",
                        "description": "The unique identifier of the user's wallet. This is available if data is fetched from session else its null"
                    }
                }
            },
            "VerifiableCredentialRequestDTO": {
              "type": "object",
              "properties": {
                "issuer": {
                  "type": "string",
                  "description": "The unique identifier of the issuer"
                },
                "credentialConfigurationId": {
                  "type": "string",
                  "description": "The unique identifier of the credential type from the issuer well-known configuration"
                },
                "code": {
                  "type": "string",
                  "description": "The authorization code received from the authorization server"
                },
                "grantType": {
                  "type": "string",
                  "description": "The grant type for the authorization request"
                },
                "redirectUri": {
                  "type": "string",
                  "description": "The redirect URI for the authorization request"
                },
                "codeVerifier": {
                  "type": "string",
                  "description": "The code verifier used for PKCE (Proof Key for Code Exchange)"
                }
              },
              "required": [
                "issuer",
                "credentialConfigurationId",
                "code",
                "grantType",
                "redirectUri",
                "codeVerifier"
              ]
            },
            "VerifiableCredentialResponseDTO": {
                "type": "object",
                "properties": {
                    "issuerDisplayName": {
                        "type": "string",
                        "description": "Name of the Issuer"
                    },
                    "issuerLogo": {
                        "type": "string",
                        "description": "Logo of the Issuer"
                    },
                    "credentialTypeDisplayName": {
                        "type": "string",
                        "description": "The name of the Credential Type issued by the Issuer"
                    },
                    "credentialTypeLogo": {
                        "type": "string",
                        "description": "Logo of the Credential Type"
                    },
                    "credentialId": {
                        "type": "string",
                        "description": "Unique Identifier of the Credential in the database"
                    }
                }
            },
            "CreateWalletRequestDto": {
                "type": "object",
                "properties": {
                    "walletPin": {
                        "type": "string",
                        "description": "PIN used to unlock the Wallet"
                    },
                    "confirmWalletPin": {
                        "type": "string",
                        "description": "Re-entered PIN used to confirm the Wallet PIN"
                    },
                    "walletName": {
                        "type": "string",
                        "description": "Name of the Wallet"
                    }
                },
                "required": [
                    "walletPin",
                    "confirmWalletPin"
                ]
            },
            "WalletResponseDTO": {
                "type": "object",
                "properties": {
                    "walletId": {
                        "type": "string",
                        "description": "Unique identifier of the Wallet"
                    },
                    "walletName": {
                        "type": "string",
                        "description": "Wallet name provided by the user"
                    }
                }
            },
            "UnlockWalletRequestDto": {
                "type": "object",
                "properties": {
                    "walletName": {
                        "type": "string",
                        "description": "Name of the Wallet"
                    },
                    "walletPin": {
                        "type": "string",
                        "description": "PIN used to unlock the Wallet"
                    }
                },
                "required": [
                    "walletPin"
                ]
            },
            "WalletResponseDto": {
                "type": "object",
                "properties": {
                    "walletId": {
                        "type": "string",
                        "description": "Unique identifier of the Wallet"
                    },
                    "walletName" : {
                        "type": "string",
                        "description": "Name of the Wallet"
                    }
                }
            },
            "WalletDetailsResponseDto": {
                "type": "object",
                "properties": {
                    "walletId": {
                        "type": "string",
                        "description": "Unique identifier of the Wallet"
                    },
                    "walletName" : {
                        "type": "string",
                        "description": "Name of the Wallet"
                    },
                    "walletStatus": {
                        "type": "string",
                        "description": "Wallet status indicating if it is locked or unlocked",
                        "enum": ["active", "temporarily_locked", "permanently_locked", "ready_for_unlock"],
                        "nullable": true
                    }
                }
            },
            "VerifiablePresentationAuthorizationRequest": {
                "type": "object",
                "properties": {
                    "authorizationRequestUrl": {
                        "type": "string",
                        "description": "The complete authorization request URL received from the Verifier"
                    }
                },
                "required": [
                    "authorizationRequestUrl"
                ]
            },
            "VerifiablePresentationResponseDTO": {
                "type": "object",
                "properties": {
                    "presentationId": {
                        "type": "string",
                        "description": "Unique identifier for the verifiable presentation request"
                    },
                    "verifier": {
                        "$ref": "#/components/schemas/VerifiablePresentationVerifierDTO"
                    }
                }
            },
            "VerifiablePresentationVerifierDTO": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "string",
                        "description": "The client ID of the verifier"
                    },
                    "name": {
                        "type": "string",
                        "description": "The name of the verifier"
                    },
                    "logo": {
                        "type": "string",
                        "format": "uri",
                        "description": "The logo URI of the verifier"
                    },
                    "isTrusted": {
                        "type": "boolean",
                        "description": "Indicates if the verifier is trusted by the wallet"
                    },
                    "isPreregisteredWithWallet": {
                        "type": "boolean",
                        "description": "Indicates if the verifier is pre-registered with the wallet"
                    },
                    "redirectUri": {
                        "type": "string",
                        "format": "uri",
                        "description": "The redirect URI provided in the authorization request to redirect the User back to Verifier"
                    }
                }
            },
            "PresentationSubmissionRequestDTO": {
                "type": "object",
                "properties": {
                    "selectedCredentials": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "description": "List of selected credential IDs for presentation",
                        "example": ["cred-123", "cred-456"]
                    }
                },
                "required": [
                    "selectedCredentials"
                ]
            },
            "PresentationSubmissionResponseDTO": {
                "type": "object",
                "properties": {
                    "presentationId": {
                        "type": "string",
                        "description": "Unique identifier for the presentation",
                        "example": "123e4567-e89b-12d3-a456-426614174000"
                    },
                    "status": {
                        "type": "string",
                        "description": "Status of the presentation submission",
                        "example": "success",
                        "enum": ["success", "error", "pending"]
                    },
                    "message": {
                        "type": "string",
                        "description": "Response message",
                        "example": "Presentation submitted successfully"
                    }
                },
                "required": [
                    "presentationId",
                    "status",
                    "message"
                ]
            },
            "IssuerConfigurationSuccessResponse": {
                "type": "object",
                "properties": {
                    "response": {
                        "type": "object",
                        "properties": {
                            "credentials_supported": {
                                "type": "array",
                                "items": {
                                    "$ref": "#/components/schemas/Credential"
                                }
                            },
                            "authorization_endpoint": {
                                "type": "string",
                                "format": "uri"
                            },
                            "grant_types_supported": {
                                "type": "array",
                                "items": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "errors": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/Error"
                        },
                        "example": []
                    }
                }
            },
            "IssuerConfigurationErrorResponse": {
                "type": "object",
                "properties": {
                    "response": {
                        "type": "object",
                        "nullable": true
                    },
                    "errors": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/Error"
                        }
                    }
                }
            },
            "Credential": {
                "type": "object",
                "properties": {
                    "name": {
                        "type": "string"
                    },
                    "scope": {
                        "type": "string"
                    },
                    "display": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/Display"
                        }
                    }
                }
            },
            "Display": {
                "type": "object",
                "properties": {
                    "name": {
                        "type": "string"
                    },
                    "locale": {
                        "type": "string"
                    },
                    "logo": {
                        "type": "string"
                    }
                }
            },
            "Error": {
                "type": "object",
                "properties": {
                    "errorCode": {
                        "type": "string",
                        "description": "It represents the type or category of the error"
                    },
                    "errorMessage": {
                        "type": "string",
                        "description": "A human-readable message providing more details about the error"
                    }
                }
            },
            "AppVIDGenerateRequestDTO": {
                "type": "object",
                "properties": {
                    "individualId": {
                        "type": "string"
                    },
                    "individualIdType": {
                        "type": "string"
                    },
                    "otp": {
                        "type": "string"
                    },
                    "vidType": {
                        "type": "string"
                    },
                    "transactionID": {
                        "type": "string"
                    }
                }
            },
            "AppOTPRequestDTO": {
                "type": "object",
                "properties": {
                    "individualId": {
                        "type": "string"
                    },
                    "individualIdType": {
                        "type": "string"
                    },
                    "otpChannel": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        }
                    },
                    "transactionID": {
                        "type": "string"
                    }
                }
            },
            "AppCredentialRequestDTO": {
                "type": "object",
                "properties": {
                    "individualId": {
                        "type": "string"
                    },
                    "otp": {
                        "type": "string"
                    },
                    "transactionID": {
                        "type": "string"
                    },
                    "issuer": {
                        "type": "string"
                    },
                    "credentialType": {
                        "type": "string"
                    },
                    "user": {
                        "type": "string"
                    }
                }
            },
            "CredentialDownloadRequestDTO": {
                "type": "object",
                "properties": {
                    "individualId": {
                        "type": "string"
                    },
                    "requestId": {
                        "type": "string"
                    }
                }
            },
            "CredentialDownloadResponseDTO": {
                "type": "object",
                "properties": {
                    "credential": {
                        "$ref": "#/components/schemas/JsonNode"
                    },
                    "verifiableCredential": {
                        "$ref": "#/components/schemas/JsonNode"
                    }
                }
            },
            "JsonNode": {
                "type": "object"
            },
            "StringNode": {
                "type": "string"
            },
            "Event": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "string"
                    },
                    "transactionId": {
                        "type": "string"
                    },
                    "type": {
                        "$ref": "#/components/schemas/Type"
                    },
                    "timestamp": {
                        "type": "string"
                    },
                    "dataShareUri": {
                        "type": "string"
                    },
                    "data": {
                        "type": "object",
                        "additionalProperties": {
                            "type": "object"
                        }
                    }
                }
            },
            "EventModel": {
                "type": "object",
                "properties": {
                    "publisher": {
                        "type": "string"
                    },
                    "topic": {
                        "type": "string"
                    },
                    "publishedOn": {
                        "type": "string"
                    },
                    "event": {
                        "$ref": "#/components/schemas/Event"
                    }
                }
            },
            "Type": {
                "type": "object",
                "properties": {
                    "namespace": {
                        "type": "string"
                    },
                    "name": {
                        "type": "string"
                    }
                }
            },
            "GenericResponseDTO": {
                "type": "object",
                "properties": {
                    "status": {
                        "type": "string"
                    },
                    "message": {
                        "type": "string"
                    }
                }
            },
            "AidStatusRequestDTO": {
                "type": "object",
                "properties": {
                    "aid": {
                        "type": "string"
                    },
                    "otp": {
                        "type": "string"
                    },
                    "transactionID": {
                        "type": "string"
                    }
                }
            },
            "MatchingCredentialsResponseDTO": {
                "type": "object",
                "properties": {
                    "availableCredentials": {
                        "type": "array",
                        "description": "List of credentials that match the presentation definition",
                        "items": {
                            "$ref": "#/components/schemas/AvailableCredentialDTO"
                        }
                    },
                    "missingClaims": {
                        "type": "array",
                        "description": "List of claims that are required but not available in any credential",
                        "items": {
                            "type": "string"
                        }
                    }
                }
            },
            "AvailableCredentialDTO": {
                "type": "object",
                "properties": {
                    "credentialId": {
                        "type": "string",
                        "description": "Unique identifier of the credential"
                    },
                    "credentialTypeDisplayName": {
                        "type": "string",
                        "description": "Display name of the credential type"
                    },
                    "credentialTypeLogo": {
                        "type": "string",
                        "format": "uri",
                        "description": "Logo URL for the credential type"
                    },
                    "type": {
                        "type": "array",
                        "description": "List of credential types",
                        "items": {
                            "type": "string"
                        }
                    },
                    "claims": {
                        "type": "object",
                        "description": "Available claims from the credential",
                        "additionalProperties": true
                    }
                }
            }
        }
    },
    "x-internal": true
}